---
import RenderDoc from '@src/components/RenderDoc.astro';
import { SDK_PY_VERSIONS, type SdkPyVersion } from '@src/util/sdkPyVersion';

export const getStaticPaths = async () => {
    return SDK_PY_VERSIONS.filter((v) => v !== 'latest')
        .map((version) => ({
            params: { version },
        }));
};

const { version } = Astro.params;

if (!version || !SDK_PY_VERSIONS.includes(version as SdkPyVersion)) {
    return Astro.redirect('/docs/sdk/python', 301);
}

const docName = version === '1.x' ? 'sdk-python-1x' : 'sdk-python';
---

<RenderDoc doc={docName as any} slug="index" />
