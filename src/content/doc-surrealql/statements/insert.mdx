---
sidebar_position: 12
sidebar_label: INSERT
title: INSERT statement | SurrealQL
description: The INSERT statement can be used to insert or update data into the database, using the same statement syntax as the traditional SQL Insert statement.
---
import Since from '@components/shared/Since.astro'
import RailroadDiagram from '@components/RailroadDiagram.astro'
import Tabs from '@components/Tabs/Tabs.astro'
import TabItem from '@components/Tabs/TabItem.astro'

# `INSERT` statement

The `INSERT` statement can be used to insert or update data into the database, using the same statement syntax as the traditional SQL Insert statement.

### Statement syntax

<Tabs syncKey="insert-statement">
  <TabItem label="SurrealQL Syntax">

```syntax title="SurrealQL Syntax"
INSERT [ RELATION ] [ IGNORE ] INTO @what
	[ @value
	  | (@fields) VALUES (@values)
		[ ON DUPLICATE KEY UPDATE @field = @value ... ]
	]
	[ RETURN NONE | RETURN BEFORE | RETURN AFTER | RETURN DIFF | RETURN @statement_param, ... | RETURN VALUE @statement_param ]
;
```

  </TabItem>
  <TabItem label="Railroad Diagram">

export const insertAst = {
  type: "Diagram",
  padding: [10, 20, 10, 20],
  children: [
    { type: "Sequence", children: [
      { type: "Terminal", text: "INSERT" },
      { type: "Optional", child: { type: "Terminal", text: "RELATION" } },
      { type: "Optional", child: { type: "Terminal", text: "IGNORE" } },
      { type: "Terminal", text: "INTO" },
      { type: "NonTerminal", text: "@what" },
      { type: "Optional", child: { type: "Choice", index: 1, children: [
        { type: "NonTerminal", text: "@value" },
        { type: "Sequence", children: [ { type: "Terminal", text: "(@fields)" }, { type: "Terminal", text: "VALUES" }, { type: "Terminal", text: "(@values)" }, { type: "Optional", child: { type: "Sequence", children: [ { type: "Terminal", text: "ON DUPLICATE KEY UPDATE" }, { type: "NonTerminal", text: "@field = @value ..." } ] } } ] }
      ] } },
      { type: "Optional", child: { type: "Sequence", children: [ { type: "Terminal", text: "RETURN" }, { type: "Choice", index: 1, children: [ { type: "Terminal", text: "NONE" }, { type: "Terminal", text: "BEFORE" }, { type: "Terminal", text: "AFTER" }, { type: "Terminal", text: "DIFF" }, { type: "NonTerminal", text: "@statement_param, ..." }, { type: "Sequence", children: [ { type: "Terminal", text: "VALUE" }, { type: "NonTerminal", text: "@statement_param" } ] } ] } ] } },
      { type: "Terminal", text: ";" }
    ]}
  ]
};

<RailroadDiagram ast={insertAst} className="my-6" />

  </TabItem>
</Tabs>

## Example usage

The following query shows example usage of this statement.

```surql
/**[test]

[[test.results]]
value = "[{ founded: '2021-09-10', founders: [person:tobie, person:jaime], id: company:5fc7p7d0kiirdx7accfn, name: 'SurrealDB', tags: ['big data', 'database'] }]"
skip-record-id-key = true

*/

INSERT INTO company {
	name: 'SurrealDB',
	founded: "2021-09-10",
	founders: [person:tobie, person:jaime],
	tags: ['big data', 'database']
};
```

Records can also be inserted by using the `VALUES` keyword. This keyword is preceded by the name of the fields in question, and followed by comma-separated values matching the number of fields specified.

```surql
/**[test]

[[test.results]]
value = "[{ founded: '2021-09-10', id: company:l6luw1w1lqr7v2loau6a, name: 'SurrealDB' }]"
skip-record-id-key = true

[[test.results]]
value = "[{ founded: '1967-05-03', id: company:racyetsf1x1hbu7d5g5s, name: 'Acme Inc.' }, { founded: '1976-04-01', id: company:x9pi148wprp30jfv5o4q, name: 'Apple Inc.' }]"
skip-record-id-key = true

*/

-- Insert a single record
INSERT INTO
	company (name, founded)
	VALUES  ('SurrealDB', '2021-09-10');

-- Insert multiple records
INSERT INTO
	company (name, founded)
	VALUES  ('Acme Inc.', '1967-05-03'), ('Apple Inc.', '1976-04-01');
```

It is possible to update records which already exist or violate a unique index by specifying an `ON DUPLICATE KEY UPDATE` clause. This clause also allows incrementing and decrementing numeric values, and adding or removing values from arrays. To increment a numeric value, or to add an item to an array, use the `+=` operator. To decrement a numeric value, or to remove an value from an array, use the `-=` operator.

```surql
/**[test]

[[test.results]]
value = "[{ id: product:bt4cwqd5cwwmp68w3dps, name: 'Salesforce', url: 'salesforce.com' }]"
skip-record-id-key = true

*/

INSERT INTO product (name, url) VALUES ('Salesforce', 'salesforce.com') ON DUPLICATE KEY UPDATE tags += 'crm';
```

Field names inside `ON DUPLICATE KEY UPDATE` refer to the fields of the existing record. To access the fields of the new record that was attempted to be inserted, prefix the field name with [`$input`](/docs/surrealql/parameters#input):

```surql
/**[test]

[[test.results]]
value = "[{ at_year: 2024, id: city:Calgary, population: 1665000 }]"

*/

INSERT INTO city (id, population, at_year) VALUES ("Calgary", 1665000, 2024)
ON DUPLICATE KEY UPDATE
	population = $input.population,
	at_year = $input.at_year;
```

An example of `ON DUPLICATE KEY UPDATE` when a unique key is encountered shows the same behaviour as that with a duplicate record:

```surql
/**[test]

[[test.results]]
value = "NONE"

[[test.results]]
value = "NONE"

[[test.results]]
value = "[{ data_for: user:one, id: user_data:24gujsffwl4vt2zgp2yl, some: 'data' }]"
skip-record-id-key = true

[[test.results]]
value = "[{ data_for: user:one, id: user_data:24gujsffwl4vt2zgp2yl, last_edited: d'2025-10-08T03:22:23.325474Z', some: 'data', times_updated: 1 }]"
skip-record-id-key = true

*/

DEFINE FIELD data_for ON user_data TYPE record<user>;
DEFINE INDEX one_user ON user_data FIELDS data_for UNIQUE;

INSERT INTO user_data {
    data_for: user:one,
    some: "data"
} ON DUPLICATE KEY UPDATE times_updated += 1, last_edited = time::now();

INSERT INTO user_data {
    data_for: user:one,
    some_more: "data"
} ON DUPLICATE KEY UPDATE times_updated += 1, last_edited = time::now();
```

```surql title="Output"
-------- Query --------

[
	{
		for: user:one,
		id: user_data:kp78dubsxmp4f04x0de3,
		some: 'data'
	}
]

-------- Query --------

[
	{
		for: user:one,
		id: user_data:kp78dubsxmp4f04x0de3,
		last_edited: d'2025-07-14T05:15:52.146Z',
		some: 'data',
		times_updated: 1
	}
]
```

Using the insert statement, it is possible to copy records easily between tables. The records being copied will have the same id in the new table, but the record id will signify the new table name.

```surql
/**[test]

[[test.results]]
value = "[]"

*/

INSERT INTO recordings_san_francisco (SELECT * FROM temperature WHERE city = 'San Francisco');
```

Furthermore, it is possible to perform a bulk insert in a single query. The `@what` part of the syntax can be either a single object or an array of objects.

```surql
/**[test]

[[test.results]]
value = "[{ id: person:jaime, name: 'Jaime', surname: 'Morgan Hitchcock' }, { id: person:tobie, name: 'Tobie', surname: 'Morgan Hitchcock' }]"

*/

INSERT INTO person [
   { id: "jaime", name: "Jaime", surname: "Morgan Hitchcock" },
   { id: "tobie", name: "Tobie", surname: "Morgan Hitchcock" },
];
```

### Ignoring duplicates

While attempting to insert one or more records via the `INSERT` statement, if the record ID is already present in the table, the query will encounter an error and fail. If the `IGNORE` clause is supplied, records with an already existing or duplicate ID will be silently ignored.

```surql
/**[test]

[[test.results]]
value = "[{ id: person:jaime, name: 'Jaime', surname: 'Morgan Hitchcock' }, { id: person:tobie, name: 'Tobie', surname: 'Morgan Hitchcock' }]"

*/

INSERT IGNORE INTO person [
   { id: "jaime", name: "Jaime", surname: "Morgan Hitchcock" },
   { id: "tobie", name: "Tobie", surname: "Morgan Hitchcock" },

   { id: "jaime", name: "Jaime", surname: "Morgan Hitchcock" }, -- will not throw an error
];
```

### Return Values

<Since v="v2.0.0" />

By default, the `INSERT` statement returns the record once it has been inserted. To change what is returned, we can use the `RETURN` clause, specifying either `NONE`, `BEFORE`, `AFTER`, `DIFF`, or a comma-separated list of specific fields to return.

`RETURN NONE` can be useful to avoid excess output:

```surql
/**[test]

[[test.results]]
value = "[]"

*/

-- Insert a record and return nothing
INSERT INTO company {
	name: 'SurrealDB',
	founded: "2021-09-10",
	founders: [person:tobie, person:jaime],
	tags: ['big data', 'database']
} RETURN NONE;
```

`RETURN DIFF` returns the changeset diff:

```surql
/**[test]

[[test.results]]
value = "[[{ op: 'replace', path: '', value: { founded: '2021-09-10', founders: [person:tobie, person:jaime], id: company:tmx6q7chr1vt73t95gx8, name: 'SurrealDB', tags: ['big data', 'database'] } }]]"
skip-record-id-key = true

*/

-- Insert a record and return the diff
INSERT INTO company {
	name: 'SurrealDB',
	founded: "2021-09-10",
	founders: [person:tobie, person:jaime],
	tags: ['big data', 'database']
} RETURN DIFF;
```

```surql title="Response"
-------- Query 1 (500Âµs) --------

[
	[
		{
			op: 'replace',
			path: '/',
			value: {
				founded: '2021-09-10',
				founders: [
					person:tobie,
					person:jaime
				],
				id: company:hu5o1wqbo29t10engbeo,
				name: 'SurrealDB',
				tags: [
					'big data',
					'database'
				]
			}
		}
	]
]
```

`RETURN BEFORE` inside a `INSERT` statement is essentially a synonym for `RETURN NONE`, while `RETURN AFTER` is the default behaviour for `INSERT`.

```surql
/**[test]

[[test.results]]
value = "[NONE]"

*/

-- Before insert will always return NONE as it is the same as the record being inserted
INSERT INTO company {
	name: 'SurrealDB',
	founded: "2021-09-10",
	founders: [person:tobie, person:jaime],
	tags: ['big data', 'database']
} RETURN BEFORE;
```

```surql
/**[test]

[[test.results]]
value = "[{ founded: '2021-09-10', founders: [person:tobie, person:jaime], id: company:yzc8d07g376x3qddxmdn, name: 'SurrealDB', tags: ['big data', 'database'] }]"
skip-record-id-key = true

*/

-- Return the record after creation
INSERT INTO company {
	name: 'SurrealDB',
	founded: "2021-09-10",
	founders: [person:tobie, person:jaime],
	tags: ['big data', 'database']
} RETURN AFTER;
```

You can also return specific fields from a created record, the value of a single field using `VALUE`, as well as ad-hoc fields to modify the output as needed.

```surql
/**[test]

[[test.results]]
value = "[{ age: 46, age_next_year: 47, interests: ['skiing', 'music'] }]"

[[test.results]]
value = "[27, -55]"

*/

INSERT INTO person {
    age: 46,
    username : "john-smith",
    interests : ['skiing', 'music'] }
RETURN
    age,
    interests,
    age + 1 AS age_next_year;

INSERT INTO planet [
	{
		name: 'Venus',
        surface_temp: 462,
        temp_55_km_up: 27
	},
	{
		name: 'Earth',
        surface_temp: 15,
        temp_55_km_up: -55
	}
] RETURN VALUE temp_55_km_up;
```

```surql title="Response"
-------- Query --------

[
	{
		age: 46,
		age_next_year: 47,
		interests: [
			'skiing',
			'music'
		]
	}
]

-------- Query --------

[
	27,
	-55
]
```

## Bulk insert

<Since v="v2.0.0" />

The `INSERT` statement supports bulk insert, which allows multiple records to be inserted in a single query. The `@what` part of the syntax can be either a single object or an array of objects.

```surql
/**[test]

[[test.results]]
value = "[{ id: person:jaime, name: 'Jaime', surname: 'Morgan Hitchcock' }, { id: person:tobie, name: 'Tobie', surname: 'Morgan Hitchcock' }]"

*/

INSERT INTO person [
   { id: "jaime", name: "Jaime", surname: "Morgan Hitchcock" },
   { id: "tobie", name: "Tobie", surname: "Morgan Hitchcock" },
   -- ... 1000 more records
];
```

## Insert relation tables

The `INSERT` statement can also be used to add records into relation tables. The `@what` part of the syntax can be either a single object or an array of objects.

Learn more about creating relationships between tables in the [RELATE](/docs/surrealql/statements/relate) statement. For example:

```surql
/**[test]

[[test.results]]
value = "[{ id: person:1 }, { id: person:2 }, { id: person:3 }]"

[[test.results]]
value = "[{ id: likes:object, in: person:1, out: person:2 }]"

[[test.results]]
value = "[{ id: likes:array, in: person:1, out: person:2 }, { id: likes:array_two, in: person:2, out: person:3 }]"

[[test.results]]
value = "[{ id: likes:values, in: person:1, out: person:2 }]"

[[test.results]]
value = "[[likes:array, likes:object, likes:values], [likes:array_two], []]"

*/

-- Insert records into the person table
INSERT INTO person [
	{ id: 1 },
	{ id: 2 },
	{ id: 3 },
];
-- Insert a single relation
INSERT RELATION INTO likes {
	in: person:1,
	id: 'object',
	out: person:2,
};

-- Insert multiple relations
INSERT RELATION INTO likes [
	{
		in: person:1,
		id: 'array',
		out: person:2,
	},
	{
		in: person:2,
		id: 'array_two',
		out: person:3,
	}
];

-- Insert a relation and return the value of the likes field
INSERT RELATION INTO likes (in, id, out)
	VALUES (person:1, 'values', person:2);

-- Select the value of the likes field
SELECT VALUE ->likes FROM person;

```
