---
sidebar_position: 3
sidebar_label: Operators
title: Operators | SurrealQL
description: A variety of operators in SurrealQL allow for complex manipulation of data, and advanced logic.
---
import Since from '@components/shared/Since.astro'

# Operators

A variety of operators in SurrealQL allow for complex manipulation of data, and advanced logic.

<table>
  <thead>
    <tr>
      <th scope="col">Operator</th>
      <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row" data-label="Operator"><a href="#and"><code>&&</code> or <code>AND</code></a></td>
      <td scope="row" data-label="Description">Checks whether both of two values are truthy</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#or"><code>||</code> or <code>OR</code></a></td>
      <td scope="row" data-label="Description">Checks whether either of two values is truthy</td>
    </tr>
    <tr>
        <td scope="row" data-label="Operator"><a href="#not"><code>!</code></a></td>
        <td scope="row" data-label="Description">Reverses the truthiness of a value</td>
    </tr>
    <tr>
        <td scope="row" data-label="Operator"><a href="#not_not"><code>!!</code></a></td>
        <td scope="row" data-label="Description">Determines the truthiness of a value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#nco"><code>??</code></a></td>
      <td scope="row" data-label="Description">Check whether either of two values are truthy and not NULL</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#tco"><code>?:</code></a></td>
      <td scope="row" data-label="Description">Check whether either of two values are truthy</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#equal"><code>=</code> or <code>IS</code></a></td>
      <td scope="row" data-label="Description">Check whether two values are equal</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#notequal"><code>!=</code> or <code>IS NOT</code></a></td>
      <td scope="row" data-label="Description">Check whether two values are not equal</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#exact"><code>==</code></a></td>
      <td scope="row" data-label="Description">Check whether two values are exactly equal</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#anyequal"><code>?=</code></a></td>
      <td scope="row" data-label="Description">Check whether any value in a set is equal to a value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#allequal"><code>*=</code></a></td>
      <td scope="row" data-label="Description">Check whether all values in a set are equal to a value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#match"><code>~</code></a></td>
      <td scope="row" data-label="Description">Compare two values for equality using fuzzy matching</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#notmatch"><code>!~</code></a></td>
      <td scope="row" data-label="Description">Compare two values for inequality using fuzzy matching</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#anymatch"><code>?~</code></a></td>
      <td scope="row" data-label="Description">Check whether any value in a set is equal to a value using fuzzy matching</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#allmatch"><code>*~</code></a></td>
      <td scope="row" data-label="Description">Check whether all values in a set are equal to a value using fuzzy matching</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#lessthan"><code>&lt;</code></a></td>
      <td scope="row" data-label="Description">Check whether a value is less than another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#lessthanorequal"><code>&lt;=</code></a></td>
      <td scope="row" data-label="Description">Check whether a value is less than or equal to another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#greaterthan"><code>&gt;</code></a></td>
      <td scope="row" data-label="Description">Check whether a value is greater than another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#greaterthanorequal"><code>&gt;=</code></a></td>
      <td scope="row" data-label="Description">Check whether a value is greater than or equal to another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#add"><code>+</code></a></td>
      <td scope="row" data-label="Description">Add two values together</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#sub"><code>-</code></a></td>
      <td scope="row" data-label="Description">Subtract a value from another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#mul"><code>*</code> or <code>×</code></a></td>
      <td scope="row" data-label="Description">Multiply two values together</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#div"><code>/</code> or <code>÷</code></a></td>
      <td scope="row" data-label="Description">Divide a value by another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#pow"><code>**</code></a></td>
      <td scope="row" data-label="Description">Raises a base value by another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#inside"><code>IN</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value is contained within another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#notinside"><code>NOT IN</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value is not contained within another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#contains"><code>CONTAINS</code> or <code>∋</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value contains another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#containsnot"><code>CONTAINSNOT</code> or <code>∌</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value does not contain another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#containsall"><code>CONTAINSALL</code> or <code>⊇</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value contains all other values</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#containsany"><code>CONTAINSANY</code> or <code>⊃</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value contains any other value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#containsnone"><code>CONTAINSNONE</code> or <code>⊅</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value contains none of the following values</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#inside"><code>INSIDE</code> or <code>∈</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value is contained within another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#notinside"><code>NOTINSIDE</code> or <code>NOT IN</code> or <code>∉</code></a></td>
      <td scope="row" data-label="Description">Checks whether a value is not contained within another value</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#allinside"><code>ALLINSIDE</code> or <code>⊆</code></a></td>
      <td scope="row" data-label="Description">Checks whether all values are contained within other values</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#anyinside"><code>ANYINSIDE</code> or <code>⊂</code></a></td>
      <td scope="row" data-label="Description">Checks whether any value is contained within other values</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#noneinside"><code>NONEINSIDE</code> or <code>⊄</code></a></td>
      <td scope="row" data-label="Description">Checks whether no value is contained within other values</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#outside"><code>OUTSIDE</code></a></td>
      <td scope="row" data-label="Description">Checks whether a geometry type is outside of another geometry type</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#intersects"><code>INTERSECTS</code></a></td>
      <td scope="row" data-label="Description">Checks whether a geometry type intersects another geometry type</td>
    </tr>
    <tr>
      <td scope="row" data-label="Operator"><a href="#matches"><code>@@</code> or <code>@[ref]@</code></a></td>
      <td scope="row" data-label="Description">Checks whether the terms are found in a full-text indexed field</td>
    </tr>
      <tr>
    <td scope="row" data-label="Operator"><a href="#knn"><code> &lt;|4|&gt; </code> or <code>&lt;|3,HAMMING| &gt;</code></a></td>
    <td scope="row" data-label="Description">Performs a K-Nearest Neighbors (KNN) search to find a specified number of records closest to a given data point, optionally using a defined distance metric. Supports customizing the number of results and choice of distance calculation method.</td>
  </tr>
  </tbody>
</table>

## `&&` or `AND` {#and}

Checks whether both of two values are [truthy](/docs/surrealql/datamodel/values#values-and-truthiness).

```surql
SELECT * FROM 10 AND 20 AND 30;

30
```

<br />

## `||` or `OR` {#or}

Checks whether either of two values are [truthy](/docs/surrealql/datamodel/values#values-and-truthiness).

```surql
SELECT * FROM 0 OR false OR 10;

10
```

<br />

## `!` {#not}

Reverses the truthiness of a value.

```surql
SELECT * FROM !(TRUE OR FALSE)

false

SELECT * FROM !"Has a value";

false
```

<br />

## `!!` {#not_not}

Determines the truthiness of a value (simply an application of the `!` operator twice).

```surql
SELECT * FROM !!"Has a value";

true
```

## `??` {#nco}

Check whether either of two values are [truthy](/docs/surrealql/datamodel/values#values-and-truthiness) and not `NULL`.

```surql
SELECT * FROM NULL ?? 0 ?? false ?? 10;

0
```

<br />

## `?:` {#tco}

Check whether either of two values are [truthy](/docs/surrealql/datamodel/values#values-and-truthiness).

```surql
SELECT * FROM NULL ?: 0 ?: false ?: 10;

10
```

<br />

## `=` or `IS` {#equal}

Check whether two values are equal.

```surql
SELECT * FROM true = "true";

false
```
```surql
SELECT * FROM 10 = "10";

false
```
```surql
SELECT * FROM 10 = 10.00;

true
```
```surql
SELECT * FROM 10 = "10.3";

false
```
```surql
SELECT * FROM [1, 2, 3] = [1, 2, 3];

true
```
```surql
SELECT * FROM [1, 2, 3] = [1, 2, 3, 4];

false
```
```surql
SELECT * FROM { this: "object" } = { this: "object" };

true
```
```surql
SELECT * FROM { this: "object" } = { another: "object" };

false
```

<br />

## `!=` or `IS NOT` {#notequal}

Check whether two values are equal.

```surql
SELECT * FROM 10 != "15";

true
```
```surql
SELECT * FROM 10 != "test";

true
```
```surql
SELECT * FROM [1, 2, 3] != [3, 4, 5];

true
```

<br />

## `==` {#exact}

Check whether two values are exact. This operator also checks that each value has the same type.

```surql
SELECT * FROM 10 == 10;

true
```
```surql
SELECT * FROM 10 == "10";

false
```
```surql
SELECT * FROM true == "true";

false
```

<br />

## `?=` {#anyequal}

Check whether any value in an array equals another value.

```surql
SELECT * FROM [10, 15, 20] ?= 10;

true
```

<br />

## `*=` {#allequal}

Check whether all values in an array equals another value.

```surql
SELECT * FROM [10, 10, 10] *= 10;

true
```

<br />

## `~` {#match}

Compare two values for equality using fuzzy matching.

```surql
SELECT * FROM "test text" ~ "Test";

true
```
```surql
SELECT * FROM "true" ~ true;

false
```
```surql
SELECT * FROM ["test", "thing"] ~ "test";

false
```

<br />

## `!~` {#notmatch}

Compare two values for inequality using fuzzy matching.

```surql
SELECT * FROM "other text" !~ "test";

true
```
```surql
SELECT * FROM "test text" !~ "Test";

false
```

<br />

## `?~` {#anymatch}

Check whether any value in a set is equal to a value using fuzzy matching.

```surql
SELECT * FROM ["true", "test", "text"] ?~ true;

false
```
```surql
SELECT * FROM [1, 2, 3] ?~ "2";

false
```

<br />

## `*~` {#allmatch}

Check whether all values in a set are equal to a value using fuzzy matching.

```surql
SELECT * FROM ["TRUE", true, "true", "TrUe"] *~ true;

false
```
```surql
SELECT * FROM ["TEST", "test", "text"] *~ "test";

false
```

<br />

## `<` {#lessthan}

Check whether a value is less than another value.

```surql
SELECT * FROM 10 < 15;

true
```

<br />

## `<=` {#lessthanorequal}

Check whether a value is less than or equal to another value.

```surql
SELECT * FROM 10 <= 15;

true
```

<br />

## `>` {#greaterthan}

Check whether a value is less than another value.

```surql
SELECT * FROM 15 > 10;

true
```

<br />

## `>=` {#greaterthanorequal}

Check whether a value is less than or equal to another value.

```surql
SELECT * FROM 15 >= 10;

true
```

<br />

## `+` {#add}

Add two values together.

```surql
SELECT * FROM 10 + 10;

20
```
```surql
SELECT * FROM "test" + " " + "this";

"test this"
```
```surql
SELECT * FROM 13h + 30m;

"13h30m"
```

<br />

## `-` {#sub}

Subtracts a value from another value.

```surql
SELECT * FROM 20 - 10;

10
```
```surql
SELECT * FROM 2m - 1m;

"1m"
```

<br />

## `*` or `×` {#mul}

Multiplies a value by another value.

```surql
SELECT * FROM 20 * 2;

40
```

<br />

## `/` or `÷` {#div}

Divides a value with another value.

```surql
SELECT * FROM 20 / 2;

10
```

<br />

## `**` {#pow}

Raises a base value by another value.

```surql
SELECT * FROM 20 ** 3;

8000
```

<br />

## `CONTAINS` or `∋` {#contains}

Check whether a value contains another value.

```surql
SELECT * FROM [10, 20, 30] CONTAINS 10;

true
```
```surql
SELECT * FROM "this is some text" CONTAINS "text";

true
```
```surql
SELECT * FROM {
	type: "Polygon",
	coordinates: [[
		[-0.38314819, 51.37692386], [0.1785278, 51.37692386],
		[0.1785278, 51.61460570], [-0.38314819, 51.61460570],
		[-0.38314819, 51.37692386]
	]]
} CONTAINS (-0.118092, 51.509865);

true
```

<br />

## `CONTAINSNOT` or `∌` {#containsnot}

Check whether a value does not contain another value.

```surql
SELECT * FROM [10, 20, 30] CONTAINSNOT 15;

true
```
```surql
SELECT * FROM "this is some text" CONTAINSNOT "other";

true
```
```surql
SELECT * FROM {
	type: "Polygon",
	coordinates: [[
		[-0.38314819, 51.37692386], [0.1785278, 51.37692386],
		[0.1785278, 51.61460570], [-0.38314819, 51.61460570],
		[-0.38314819, 51.37692386]
	]]
} CONTAINSNOT (-0.518092, 53.509865);

true
```

<br />

## `CONTAINSALL` or `⊇` {#containsall}

Check whether a value contains all of multiple values.

```surql
SELECT * FROM [10, 20, 30] CONTAINSALL [10, 20, 10];

true
```

<br />

## `CONTAINSANY` or `⊃` {#containsany}

Check whether a value contains any of multiple values.

```surql
SELECT * FROM [10, 20, 30] CONTAINSANY [10, 15, 25];

true
```

<br />

## `INSIDE` or `∈` or `IN` {#inside}

Check whether a value is contained within another value.

```surql
SELECT * FROM 10 INSIDE [10, 20, 30];

true
```
```surql
SELECT * FROM "text" INSIDE "this is some text";

true
```
```surql
SELECT * FROM (-0.118092, 51.509865) INSIDE {
	type: "Polygon",
	coordinates: [[
		[-0.38314819, 51.37692386], [0.1785278, 51.37692386],
		[0.1785278, 51.61460570], [-0.38314819, 51.61460570],
		[-0.38314819, 51.37692386]
	]]
};

true
```

<br />

## `NOTINSIDE` or `∉` or `NOT IN` {#notinside}

Check whether a value is not contained within another value.

```surql
SELECT * FROM 15 NOTINSIDE [10, 20, 30];

true
```
```surql
SELECT * FROM "other" NOTINSIDE "this is some text";

true
```
```surql
SELECT * FROM (-0.518092, 53.509865) NOTINSIDE {
	type: "Polygon",
	coordinates: [[
		[-0.38314819, 51.37692386], [0.1785278, 51.37692386],
		[0.1785278, 51.61460570], [-0.38314819, 51.61460570],
		[-0.38314819, 51.37692386]
	]]
};

true
```

<br />

## `ALLINSIDE` or `⊆` {#allinside}

Check whether all of multiple values are contained within another value.

```surql
SELECT * FROM [10, 20, 10] ALLINSIDE [10, 20, 30];

true
```

<br />

## `ANYINSIDE` or `⊂` {#anyinside}

Check whether any of multiple values are contained within another value.

```surql
SELECT * FROM [10, 15, 25] ANYINSIDE [10, 20, 30];

true
```

<br />

## `NONEINSIDE` or `⊄` {#noneinside}

Check whether none of multiple values are contained within another value.

```surql
SELECT * FROM [15, 25, 35] NONEINSIDE [10, 20, 30];

true
```

<br />

## `OUTSIDE` {#outside}
Check whether a geometry value is outside another geometry value.

```surql
SELECT * FROM (-0.518092, 53.509865) OUTSIDE {
	type: "Polygon",
	coordinates: [[
		[-0.38314819, 51.37692386], [0.1785278, 51.37692386],
		[0.1785278, 51.61460570], [-0.38314819, 51.61460570],
		[-0.38314819, 51.37692386]
	]]
};

true
```

<br />

## `INTERSECTS` {#intersects}
Check whether a geometry value intersects another geometry value.

```surql
SELECT * FROM {
	type: "Polygon",
	coordinates: [[
		[-0.38314819, 51.37692386], [0.1785278, 51.37692386],
		[0.1785278, 51.61460570], [-0.38314819, 51.61460570],
		[-0.38314819, 51.37692386]
	]]
} INTERSECTS {
	type: "Polygon",
	coordinates: [[
		[-0.11123657, 51.53160074], [-0.16925811, 51.51921169],
		[-0.11466979, 51.48223813], [-0.07381439, 51.51322956],
		[-0.11123657, 51.53160074]
	]]
};

true
```

<br />

## `MATCHES` {#matches}
Checks whether the terms are found in a full-text indexed field.

```surql
SELECT * FROM book WHERE title @@ 'rust web';


[
	{
		id: book:1,
		title: 'Rust Web Programming'
	}
]

```
Using the matches operator with a reference checks whether the terms are found, highlights the searched terms, and computes the full-text score.

```surql
SELECT id,
		search::highlight('<b>', '</b>', 1) AS title,
		search::score(1) AS score
FROM book
WHERE title @1@ 'rust web'
ORDER BY score DESC;

[
	{
		id: book:1,
		score: 0.9227996468544006f,
		title: '<b>Rust</b> <b>Web</b> Programming'
	}
]
```

## `KNN`

<Since v="v1.3.0" />

K-Nearest Neighbors (KNN) is a fundamental algorithm used for classifying or regressing based on the closest data points in the feature space, with its performance and scalability critical in applications involving large datasets.

In practice, the efficiency and scalability of the KNN algorithm are crucial, especially when dealing with large datasets. Different implementations of KNN are tailored to optimize these aspects without compromising the accuracy of the results.

SurrealDB supports different K-Nearest Neighbors methods to perform KNN searches, each with unique requirements for syntax.
Below are the details for each method, including how to format your query with examples:

### Brute Force Method

Best for smaller datasets or when the highest accuracy is required.

```syntax title="SurrealQL Syntax"
<|K,DISTANCE_METRIC|>
```

- K: The number of nearest neighbors to retrieve.
- DISTANCE_METRIC: The metric used to calculate distances, such as EUCLIDEAN or MANHATTAN.

```surql
CREATE pts:3 SET point = [8,9,10,11];
SELECT id FROM pts WHERE point <|2,EUCLIDEAN|> [2,3,4,5];
```

### MTREE Index Method

<Since v="v1.3.0" />

Ideal for larger datasets where performance is crucial, and a consistent distance metric can be predefined.

```syntax title="SurrealQL Syntax"
<|K|>
```

- K: The number of nearest neighbors. The distance metric is predefined in the index, simplifying the syntax.

```surql
CREATE pts:3 SET point = [8,9,10,11];
DEFINE INDEX mt_pts ON pts FIELDS point MTREE DIMENSION 4 DIST EUCLIDEAN;
SELECT id FROM pts WHERE point <|2|> [2,3,4,5];
```

### HNSW Method

<Since v="v1.5.0" />

Recommended for very large datasets where speed is essential and some loss of accuracy is acceptable.

```syntax title="SurrealQL Syntax"
<|K,EF|>
```

- K: The number of nearest neighbors.
- EF: The size of the dynamic candidate list during the search, affecting the search's accuracy and speed.

```surql
CREATE pts:3 SET point = [8,9,10,11];
DEFINE INDEX mt_pts ON pts FIELDS point HNSW DIMENSION 4 DIST EUCLIDEAN EFC 150 M 12;
SELECT id FROM pts WHERE point <|10,40|> [2,3,4,5];
```
<br /><br />
