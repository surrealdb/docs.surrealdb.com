---
sidebar_position: 22
sidebar_label: Set functions
title: Set functions | SurrealQL
description: These functions can be used when working with, and manipulating sets of data.
---
import Since from '@components/shared/Since.astro'
import Tabs from "@components/Tabs/Tabs.astro";
import TabItem from "@components/Tabs/TabItem.astro";

<Since v="v3.0.0-alpha.12" />

# Set functions

These functions can be used when working with, and manipulating sets of data.

<table>
  <thead>
    <tr>
      <th scope="col">Function</th>
      <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row" data-label="Function"><a href="#setadd"><code>set::add()</code></a></td>
      <td scope="row" data-label="Description">Adds an item to a set if it does not exist</td>
    </tr>
    <tr>
      <td scope="row" data-label="Function"><a href="#setcomplement"><code>set::complement()</code></a></td>
      <td scope="row" data-label="Description">Returns the complement of two sets</td>
    </tr>
    <tr>
      <td scope="row" data-label="Function"><a href="#setclump"><code>set::contains()</code></a></td>
      <td scope="row" data-label="Description">Returns the original set split into multiple sets of X size</td>
    </tr>
    <tr>
      <td scope="row" data-label="Function"><a href="#setdifference"><code>set::difference()</code></a></td>
      <td scope="row" data-label="Description">Returns the difference between two sets</td>
    </tr>
    <tr>
      <td scope="row" data-label="Function"><a href="#setintersect"><code>set::intersect()</code></a></td>
      <td scope="row" data-label="Description">Returns the values which intersect two sets</td>
    </tr>
    <tr>
      <td scope="row" data-label="Function"><a href="#setis_empty"><code>set::is_empty()</code></a></td>
      <td scope="row" data-label="Description">Checks if a set is empty</td>
    </tr>
    <tr>
      <td scope="row" data-label="Function"><a href="#setlen"><code>set::len()</code></a></td>
      <td scope="row" data-label="Description">Returns the length of a set</td>
    </tr>
    <tr>
      <td scope="row" data-label="Function"><a href="#setremove"><code>set::remove()</code></a></td>
      <td scope="row" data-label="Description">Removes an item at a specific position from a set</td>
    </tr>
    <tr>
      <td scope="row" data-label="Function"><a href="#setunion"><code>set::union()</code></a></td>
      <td scope="row" data-label="Description">Returns the unique merged values from two sets</td>
    </tr>
  </tbody>
</table>

## `set::add`

The `set::add` function adds an item to a set only if it doesn't exist.

```surql title="API DEFINITION"
set::add(set, value) -> set
```

The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql
RETURN type::set(["one", "two"]).add("three");

-- {'one', 'three', 'two'}
```

<br />

## `set::complement`

The `set::complement` function returns the complement of two sets, returning a single set containing items which are not in the second set.

```surql title="API DEFINITION"
set::complement(set, set) -> set
```

The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql
RETURN type::set([1, 2, 3, 4]).complement(type::set([3, 4, 5, 6]));

-- [ 1, 2 ]
```

<br />

## `set::contains`

The `set::contains` function merges two sets together, returning a set which may contain duplicate values. If you want to remove duplicate values from the resulting set, then use the [`set::union()`](/docs/surrealql/functions/database/set#setunion) function or cast it to a set using `<set>`.

```surql title="API DEFINITION"
set::concat(set, set) -> set
```
The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql
type::set([1,2,3]).contains(3);

-- true
```

<br />

## `set::difference`

The `set::difference` function determines the difference between two sets, returning a single set containing items which are not in both sets.

```surql title="API DEFINITION"
set::difference(set, set) -> set
```

The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql
RETURN type::set([1, 2, 3, 4]).difference(type::set([3, 4, 5, 6]));

-- { 1, 2, 5, 6 }
```

<br />

## `set::intersect`

The `set::intersect` function calculates the values which intersect two sets, returning a single set containing the values which are in both sets.

```surql title="API DEFINITION"
set::intersect(set, set) -> set
```
The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql
RETURN type::set([1, 2, 3, 4]).intersect(type::set([3, 4, 5, 6]));

-- { 3, 4 }
```

<br />

## `set::is_empty`

The `set::is_empty` function checks whether the set contains values.

```surql title="API DEFINITION"
set::is_empty(set) -> bool
```
The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql title="A set that contain values"
RETURN type::set([1, 2, 3, 4]).is_empty();

-- false
```

```surql title="An empty set"
RETURN type::set([]).is_empty();

-- true
```

## `set::len`

The `set::len` function calculates the length of a set, returning a number. This function includes all items when counting the number of items in the set. If you want to only count [truthy](/docs/surrealql/datamodel/values#values-and-truthiness) values, then use the [count()](/docs/surrealql/functions/database/count) function.

```surql title="API DEFINITION"
set::len(set) -> number
```

The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql
RETURN type::set([ 1, 2, 1, null, "something", 3, 3, 4, 0 ]).len();

-- 7
```

## `set::remove`

The `set::remove` function removes an item from a specific position in a set. A negative index can be provided to specify a position relative to the end of the set.


```surql title="API DEFINITION"
set::remove(set, number) -> set
```

The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql
type::set([1, 2, 2, 2, 5]).remove(2);


RETURN set::remove([2, 2, 3, 4, 5], 2);

-- [ 1, 2, 4, 5 ]
```

The following examples shows this function using a negative index.

```surql
RETURN set::remove([1, 2, 3, 4, 5], -2);

-- [ 1, 2, 3, 5 ]
```

## `set::union`

The `set::union` function combines two sets together, removing duplicate values, and returning a single set.


```surql title="API DEFINITION"
set::union(set, set) -> set
```

The following example shows this function, and its output, when used in a [`RETURN`](/docs/surrealql/statements/return) statement:

```surql
RETURN set::union([1, 2, 1, 6], [1, 3, 4, 5, 6]);

-- [ 1, 2, 6, 3, 4, 5 ]
```

