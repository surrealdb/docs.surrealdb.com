---
sidebar_position: 6
sidebar_label: Connect VPC to SurrealDB Cloud
title: Connect VPC to SurrealDB Cloud using AWS PrivateLink
description: Use AWS PrivateLink to connect your AWS VPC to SurrealDB Cloud over a private network path, without traffic traversing the public internet.
---

import Table from '@components/shared/Table.astro'

# Connecting using AWS PrivateLink

[AWS PrivateLink](https://aws.amazon.com/privatelink/) lets you connect your AWS VPC to SurrealDB Cloud over a private network path that never traverses the public internet, improving both security and network isolation.

> [!NOTE]
> AWS PrivateLink is an enterprise feature. Onboarding is a manual process handled by the SurrealDB Cloud team, and requires coordinated setup on both sides. Contact [support](/contact) to get started.

## How it works

Once onboarded, you create an [interface VPC endpoint](https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html) in your AWS account that connects directly to SurrealDB Cloud. The endpoint is assigned a private IP address within your VPC, so all traffic between your application and SurrealDB Cloud stays on the AWS private network; It never touches the public internet and is not routed through a NAT gateway or internet gateway. This ensures that your data is not exposed to the public internet and is secure.

Public and PrivateLink instances use entirely separate connection paths and DNS namespaces, so the access mode is always explicit and enforceable:

- **Public instances** resolve under `*.aws-usw2.surreal.cloud` and are reachable from the internet.
- **PrivateLink instances** resolve under `*.privatelink.aws-usw2.surreal.cloud` and are only resolvable from within your VPC.

The two paths are fully isolated at the network level so there is no shared infrastructure between them. This makes accidental public exposure of a private instance impossible by design.

## Onboarding process

Enabling AWS PrivateLink for your organisation involves both your team and the SurrealDB Cloud team. It cannot be self-served through the SurrealDB Cloud dashboard.

Since the onboarding process is manual, it is important to contact the SurrealDB Cloud team to request PrivateLink access for your organisation and region. You can contact the SurrealDB Cloud team by [emailing us](mailto:support@surrealdb.com) or by [opening a support ticket](/contact).

The steps are:

1. **Contact SurrealDB support** to request PrivateLink access for your organisation and region.
2. **SurrealDB sets up the private connection** on our side and shares the details you need to complete your end.
3. **You configure a private endpoint** in your AWS account using those details.
4. **SurrealDB completes the setup** and enables PrivateLink for your organisation and region.

Once onboarding is complete, you can view and change the access mode of your instances.

## Instance access modes

Each instance in a PrivateLink-enabled region can be set to one of three access modes:

<Table>
    <thead>
        <tr>
            <th scope="col">Access mode</th>
            <th scope="col">Description</th>
            <th scope="col">Hostname</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td scope="row" data-label="Access mode">
                <code>public</code>
            </td>
            <td data-label="Description">
                Accessible via the public internet only. Default for all instances.
            </td>
            <td data-label="Hostname">
                <code>*.aws-usw2.surreal.cloud</code>
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Access mode">
                <code>private</code>
            </td>
            <td data-label="Description">
                Accessible via PrivateLink only.
            </td>
            <td data-label="Hostname">
                <code>*.privatelink.aws-usw2.surreal.cloud</code>
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Access mode">
                <code>dual</code>
            </td>
            <td data-label="Description">
                Accessible via both public internet and PrivateLink.
            </td>
            <td data-label="Hostname">
                Both
            </td>
        </tr>
    </tbody>
</Table>

All existing instances default to `public`. The `private` and `dual` modes are only available after your organisation has been onboarded.

## Viewing instance access mode

Once onboarded, every instance response includes an `access_type` field and the appropriate hostname. You can retrieve this via the API:

```bash
GET /v1/instances/{instanceID}
```

Example responses:

```json
// Public instance
{
  "host": "my-instance-abc123.aws-usw2.surreal.cloud",
  "access_type": "public"
}

// Private instance
{
  "host": "my-instance-abc123.privatelink.aws-usw2.surreal.cloud",
  "access_type": "private"
}

// Dual-access instance
{
  "host": "my-instance-abc123.aws-usw2.surreal.cloud",
  "private_host": "my-instance-abc123.privatelink.aws-usw2.surreal.cloud",
  "access_type": "dual"
}
```

> [!IMPORTANT]
> For `private` instances, the `host` field returns the PrivateLink hostname. This means existing clients that only read `host` will automatically use the correct endpoint.

## Changing instance access mode

You can change the access mode of an existing instance at any time via the API, as long as the instance is in a `ready` state:

```json
PATCH /v1/instances/{instanceID}/access_type

{
  "access_type": "dual"
}
```

The instance will be updated and briefly unavailable while the change takes effect.

<Table>
    <thead>
        <tr>
            <th scope="col">Response</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td scope="row" data-label="Response">
                <code>202</code>
            </td>
            <td data-label="Meaning">
                Success: The instance is being updated
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Response">
                <code>403</code>
            </td>
            <td data-label="Meaning">
                Your organisation has not been onboarded for PrivateLink
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Response">
                <code>409</code>
            </td>
            <td data-label="Meaning">
                The instance is not in a ready state: Wait and try again
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Response">
                <code>422</code>
            </td>
            <td data-label="Meaning">
                The access type is invalid, or PrivateLink is not available in this region
            </td>
        </tr>
    </tbody>
</Table>

Switching back to `public` is always allowed. If you request the same access mode that is already set, the API returns `200` immediately with no changes made.
