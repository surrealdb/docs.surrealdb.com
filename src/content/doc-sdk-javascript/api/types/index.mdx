---
sidebar_position: 1
sidebar_label: TypeScript Types
title: JavaScript | SDK | API Reference | TypeScript Types
description: TypeScript type definitions and interfaces used throughout the SDK.
---

# TypeScript Types

The SDK provides comprehensive TypeScript type definitions for type-safe development. This page documents the key types and interfaces used throughout the SDK.

## Connection Types

### `ConnectionStatus` {#connectionstatus}

Represents the current connection state.

```ts
type ConnectionStatus = "disconnected" | "connecting" | "reconnecting" | "connected"
```

**Example:**
```ts
if (db.status === "connected") {
    console.log('Ready to execute queries');
}
```

---

### `DriverOptions` {#driveroptions}

Configuration options for the Surreal driver.

```ts
interface DriverOptions {
    engines?: Engines;
    codecs?: Codecs;
    codecOptions?: CodecOptions;
    websocketImpl?: typeof WebSocket;
    fetchImpl?: typeof fetch;
}
```

**Properties:**
- `engines` - Custom engine factories for different protocols
- `codecs` - Custom codec factories for encoding/decoding
- `codecOptions` - Options for codec behavior
- `websocketImpl` - Custom WebSocket implementation
- `fetchImpl` - Custom fetch implementation

**Example:**
```ts
const db = new Surreal({
    codecOptions: {
        useNativeDates: true
    }
});
```

---

### `ConnectOptions` {#connectoptions}

Options for establishing a connection.

```ts
interface ConnectOptions {
    namespace?: string;
    database?: string;
    authentication?: AuthProvider;
    versionCheck?: boolean;
    invalidateOnExpiry?: boolean;
    reconnect?: boolean | Partial<ReconnectOptions>;
}
```

**Properties:**
- `namespace` - Namespace to use
- `database` - Database to use
- `authentication` - Authentication details or provider function
- `versionCheck` - Enable version compatibility checking (default: true)
- `invalidateOnExpiry` - Invalidate session on token expiry (default: false)
- `reconnect` - Reconnection behavior configuration (default: true)

**Example:**
```ts
await db.connect('ws://localhost:8000', {
    namespace: 'my_namespace',
    database: 'my_database',
    authentication: {
        username: 'root',
        password: 'root'
    },
    reconnect: {
        attempts: 10,
        retryDelay: 1000
    }
});
```

---

### `ReconnectOptions` {#reconnectoptions}

Configuration for automatic reconnection behavior.

```ts
interface ReconnectOptions {
    enabled: boolean;
    attempts: number;
    retryDelay: number;
    retryDelayMax: number;
    retryDelayMultiplier: number;
    retryDelayJitter: number;
    catch?: (error: Error) => boolean;
}
```

**Properties:**
- `enabled` - Enable automatic reconnection
- `attempts` - Maximum reconnection attempts (-1 for unlimited)
- `retryDelay` - Initial delay before reconnecting (ms)
- `retryDelayMax` - Maximum delay between attempts (ms)
- `retryDelayMultiplier` - Multiply delay after each failed attempt
- `retryDelayJitter` - Random offset percentage for delays
- `catch` - Custom error handler for reconnection errors

---

### `VersionInfo` {#versioninfo}

SurrealDB version information.

```ts
interface VersionInfo {
    version: string;
}
```

**Example:**
```ts
const info = await db.version();
console.log(info.version); // "surrealdb-2.1.0"
```

## Authentication Types

### `AnyAuth` {#anyauth}

Union type for all authentication methods.

```ts
type AnyAuth = 
    | SystemAuth 
    | NamespaceAuth 
    | DatabaseAuth 
    | AccessRecordAuth
```

---

### `SystemAuth` {#systemauth}

System user authentication (root, namespace, or database level).

```ts
interface SystemAuth {
    username: string;
    password: string;
}
```

**Example:**
```ts
await db.signin({
    username: 'root',
    password: 'root'
});
```

---

### `AccessRecordAuth` {#accessrecordauth}

Record user authentication via access methods.

```ts
interface AccessRecordAuth {
    namespace: string;
    database: string;
    access: string;
    variables?: Record<string, unknown>;
}
```

**Example:**
```ts
await db.signup({
    namespace: 'my_namespace',
    database: 'my_database',
    access: 'user_access',
    variables: {
        email: 'user@example.com',
        password: 'password123'
    }
});
```

---

### `Tokens` {#tokens}

Authentication token pair.

```ts
interface Tokens {
    access: string;
    refresh?: string;
}
```

**Example:**
```ts
const tokens = await db.signin(credentials);
console.log(tokens.access); // JWT access token
console.log(tokens.refresh); // Optional refresh token
```

---

### `AuthProvider` {#authprovider}

Function or static value for providing authentication.

```ts
type AuthProvider = 
    | AnyAuth 
    | (() => AnyAuth | Promise<AnyAuth>)
```

**Example:**
```ts
await db.connect('ws://localhost:8000', {
    authentication: async () => ({
        username: await getUsername(),
        password: await getPassword()
    })
});
```

## Session Types

### `Session` {#session}

Session identifier type.

```ts
type Session = Uuid | undefined
```

---

### `NamespaceDatabase` {#namespacedatabase}

Namespace and database pair.

```ts
interface NamespaceDatabase {
    namespace?: string;
    database?: string;
}
```

**Example:**
```ts
await db.use({
    namespace: 'production',
    database: 'main'
});
```

---

### `SessionEvents` {#sessionevents}

Events emitted by sessions.

```ts
type SessionEvents = {
    auth: [Tokens | null];
    using: [NamespaceDatabase];
}
```

---

### `SurrealEvents` {#surrealevents}

Events emitted by Surreal instances.

```ts
type SurrealEvents = SessionEvents & {
    connecting: [];
    connected: [string];
    reconnecting: [];
    disconnected: [];
    error: [Error];
}
```

## Query Types

### `RecordResult<T>` {#recordresult}

Ensures records have an `id` field of type `RecordId`.

```ts
type RecordResult<T> = T extends object
    ? { id: RecordId } & T
    : { id: RecordId }
```

**Example:**
```ts
interface User {
    name: string;
    email: string;
}

const user: RecordResult<User> = await db.select(new RecordId('users', 'john'));
console.log(user.id); // RecordId
console.log(user.name); // string
```

---

### `QueryResponse<T>` {#queryresponse}

Response from a query execution.

```ts
type QueryResponse<T = unknown> = 
    | QueryResponseSuccess<T> 
    | QueryResponseFailure

interface QueryResponseSuccess<T> {
    success: true;
    stats?: QueryStats;
    type: "live" | "kill" | "other";
    result: T;
}

interface QueryResponseFailure {
    success: false;
    stats?: QueryStats;
    error: {
        code: number;
        message: string;
    };
}
```

**Example:**
```ts
const responses = await db.query('SELECT * FROM users').responses();

for (const response of responses) {
    if (response.success) {
        console.log('Result:', response.result);
    } else {
        console.error('Error:', response.error.message);
    }
}
```

---

### `QueryStats` {#querystats}

Query execution statistics.

```ts
interface QueryStats {
    recordsReceived: number;
    bytesReceived: number;
    recordsScanned: number;
    bytesScanned: number;
    duration: Duration;
}
```

---

### `LiveResource` {#liveresource}

Resources that can be subscribed to with live queries.

```ts
type LiveResource = Table | RecordId | RecordIdRange
```

---

### `LiveMessage` {#livemessage}

Message received from a live query subscription.

```ts
interface LiveMessage<T = unknown> {
    action: "CREATE" | "UPDATE" | "DELETE";
    result: T;
    diff?: unknown;
}
```

**Example:**
```ts
for await (const message of subscription) {
    console.log(`${message.action}:`, message.result);
}
```

## Value Types

### `RecordIdValue` {#recordidvalue}

Valid types for record ID components.

```ts
type RecordIdValue = 
    | string 
    | number 
    | Uuid 
    | bigint 
    | unknown[] 
    | Record<string, unknown>
```

---

### `Values<T>` {#values}

Extract values from a type, excluding `id` field.

```ts
type Values<T> = Omit<T, 'id'>
```

**Example:**
```ts
interface User {
    id: RecordId;
    name: string;
    email: string;
}

const userData: Values<User> = {
    name: 'John',
    email: 'john@example.com'
    // id is excluded
};
```

---

### `Nullable<T>` {#nullable}

Make properties nullable.

```ts
type Nullable<T> = {
    [K in keyof T]: T[K] | null;
}
```

## Codec Types

### `CodecOptions` {#codecoptions}

Options for value encoding/decoding.

```ts
interface CodecOptions {
    useNativeDates?: boolean;
    valueEncodeVisitor?: (value: unknown) => unknown;
    valueDecodeVisitor?: (value: unknown) => unknown;
}
```

**Properties:**
- `useNativeDates` - Use native Date objects instead of DateTime (loses nanosecond precision)
- `valueEncodeVisitor` - Custom function to transform values before encoding
- `valueDecodeVisitor` - Custom function to transform values after decoding

**Example:**
```ts
const db = new Surreal({
    codecOptions: {
        useNativeDates: true,
        valueDecodeVisitor: (value) => {
            // Custom transformation
            return value;
        }
    }
});
```

## Export/Import Types

### `SqlExportOptions` {#sqlexportoptions}

Options for database export.

```ts
interface SqlExportOptions {
    users: boolean;
    accesses: boolean;
    params: boolean;
    functions: boolean;
    analyzers: boolean;
    tables: boolean | string[];
    versions: boolean;
    records: boolean;
    sequences: boolean;
    v3: boolean;
}
```

The `v3` option controls whether to include v3-specific export content.

**Example:**
```ts
const sql = await db.export({
    tables: ['users', 'posts'],
    records: true,
    functions: false
});
```

## Utility Types

### `Prettify<T>` {#prettify}

Expand type for better IDE display.

```ts
type Prettify<T> = { [K in keyof T]: T[K] } & {}
```

---

### `EventPublisher<T>` {#eventpublisher}

Interface for event subscription.

```ts
interface EventPublisher<T extends Record<string, unknown[]>> {
    subscribe<K extends keyof T>(
        event: K,
        listener: (...payload: T[K]) => void
    ): () => void;
}
```

---

### `ApiRequest<T>` {#apirequest}

Request options for user-defined API endpoints.

```ts
interface ApiRequest<T = unknown> {
    body?: T;
    method?: string;
    headers?: Record<string, string>;
    query?: Record<string, string>;
}
```

**Properties:**
- `body` - Request body to send
- `method` - HTTP method (default: `"get"`)
- `headers` - Additional headers for the request
- `query` - Query parameters to append to the URL

**Example:**
```ts
const api = db.api();
const result = await api.invoke('/custom', {
    method: 'post',
    body: { data: 'value' },
    headers: { 'X-Custom': 'header' },
    query: { filter: 'active' }
});
```

## Best Practices

### 1. Use Generic Type Parameters

Leverage generics for type-safe operations:

```ts
interface User {
    name: string;
    email: string;
}

// Type-safe selection
const users = await db.select<User>(new Table('users'));
users[0].name; // TypeScript knows this is a string
```

### 2. Define Custom Types

Create types for your data models:

```ts
interface Post {
    title: string;
    content: string;
    author: RecordId<'users'>;
    created_at: DateTime;
}

const posts = await db.select<Post>(new Table('posts'));
```

### 3. Use Type Guards

Implement type guards for runtime type checking:

```ts
function isUser(value: unknown): value is User {
    return (
        typeof value === 'object' &&
        value !== null &&
        'name' in value &&
        'email' in value
    );
}

if (isUser(data)) {
    console.log(data.email); // Type-safe
}
```

### 4. Handle Union Types

Properly handle discriminated unions:

```ts
const response = await db.query('SELECT * FROM users').responses();

for (const r of response) {
    if (r.success) {
        console.log(r.result); // Success case
    } else {
        console.error(r.error); // Failure case
    }
}
```

## See Also

- [Core Classes](/docs/sdk/javascript/api/core/) - Classes using these types
- [Value Types](/docs/sdk/javascript/api/values/) - Value type classes
- [Query Builders](/docs/sdk/javascript/api/queries/) - Query builder types

**Source:** [types/](https://github.com/surrealdb/surrealdb.js/tree/main/packages/sdk/src/types)
