---
sidebar_position: 9
sidebar_label: Future
title: JavaScript | SDK | API Reference | Future
description: Deferred computation values (deprecated in SurrealDB 3.0).
---

import Label from "@components/shared/Label.astro";

# `Future` {#future}

> [!WARNING]
> The `Future` type was **deprecated in SurrealDB 3.0** and is no longer supported. This documentation is provided for reference when working with legacy databases.

The `Future` class represents uncomputed SurrealQL expressions that are evaluated by the database at query time, rather than at definition time.

**Import:**
```ts
import { Future } from 'surrealdb';
```

**Source:** [value/future.ts](https://github.com/surrealdb/surrealdb.js/blob/main/packages/sdk/src/value/future.ts)

## Constructor

### `new Future(body)` {#constructor}

Create a new future value.

```ts title="Syntax"
new Future(expression)
```

#### Parameters
<table>
    <thead>
        <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>body</code> <Label label="required" /></td>
            <td><code>string</code></td>
            <td>The SurrealQL expression to evaluate later.</td>
        </tr>
    </tbody>
</table>

#### Example

```ts
// Expression evaluated at query time
const future = new Future('time::now()');

// Expression with field reference
const updated = new Future('$this.updated_at');
```

## Instance Methods

### `.toString()` {#tostring}

Convert to string representation.

```ts title="Syntax"
future.toString()
```

#### Returns
`string` - Future notation string

#### Example

```ts
const future = new Future('time::now()');
console.log(future.toString());
// '<future> time::now()'
```

---

### `.toJSON()` {#tojson}

Serialize for JSON.

```ts title="Syntax"
future.toJSON()
```

#### Returns
`string` - Future notation

---

### `.equals(other)` {#equals}

Check if two futures are equal.

```ts title="Syntax"
future.equals(other)
```

#### Returns
`boolean` - True if equal

## Legacy Examples

> [!NOTE]
> These examples are for reference only. Future is deprecated and should not be used in new applications.

### Schema Default Values (Legacy)

```ts
// DEPRECATED: This pattern no longer works in SurrealDB 3.0+
await db.query(`
    DEFINE FIELD created_at ON TABLE users 
    VALUE ${new Future('time::now()')}
    DEFAULT ${new Future('time::now()')}
`).collect();
```

### Auto-Update Timestamps (Legacy)

```ts
// DEPRECATED: Use other mechanisms for auto-updating fields
await db.query(`
    DEFINE FIELD updated_at ON TABLE users 
    VALUE ${new Future('time::now()')}
`).collect();
```

## Migration Guide

If you're using `Future` in your SurrealDB < 3.0 application, here are modern alternatives:

### Default Timestamps

**Old (Deprecated):**
```ts
await db.query(`
    DEFINE FIELD created_at ON TABLE users 
    DEFAULT ${new Future('time::now()')}
`).collect();
```

**New (Recommended):**
```ts
// Set default in application code
await db.create(new Table('users')).content({
    name: 'John',
    created_at: DateTime.now() // Set explicitly
});

// Or use database-level defaults
await db.query(`
    DEFINE FIELD created_at ON TABLE users 
    TYPE datetime 
    DEFAULT time::now()
`).collect();
```

### Auto-Update Fields

**Old (Deprecated):**
```ts
await db.query(`
    DEFINE FIELD updated_at ON TABLE users 
    VALUE ${new Future('time::now()')}
`).collect();
```

**New (Recommended):**
```ts
// Update in application code
await db.update(recordId).merge({
    updated_at: DateTime.now()
});

// Or use events
await db.query(`
    DEFINE EVENT update_timestamp ON TABLE users WHEN $event = "UPDATE" THEN {
        UPDATE $after SET updated_at = time::now()
    }
`).collect();
```

### Field References

**Old (Deprecated):**
```ts
await db.query(`
    DEFINE FIELD full_name ON TABLE users 
    VALUE ${new Future('string::concat($this.first_name, " ", $this.last_name)')}
`).collect();
```

**New (Recommended):**
```ts
// Compute in application code
const user = await db.select(userId);
const fullName = `${user.first_name} ${user.last_name}`;

// Or use views
await db.query(`
    DEFINE TABLE user_view AS
    SELECT *, string::concat(first_name, " ", last_name) AS full_name
    FROM users
`).collect();
```

## Why Was Future Deprecated?

The `Future` type was removed in SurrealDB 3.0 because:

1. **Complexity** - Added unnecessary complexity to the query engine
2. **Performance** - Could cause unexpected performance issues
3. **Predictability** - Made query behavior less predictable
4. **Alternatives** - Better alternatives exist (events, views, application-side logic)

## Alternatives

For common use cases previously solved with `Future`:

| Use Case | Modern Solution |
|----------|----------------|
| Default timestamps | Set in application code or use `DEFAULT time::now()` |
| Auto-update fields | Use database events or application code |
| Computed fields | Use views or compute in application |
| Field references | Use explicit queries or views |

## See Also

- [DateTime](/docs/sdk/javascript/api/values/datetime) - Timestamp values
- [Data Types Overview](/docs/sdk/javascript/api/values/) - All custom data types
- [SurrealDB 3.0 Migration Guide](/docs/surrealdb/migration) - Upgrading from older versions
- [Database Events](/docs/surrealql/statements/define/event) - Alternative to Future
