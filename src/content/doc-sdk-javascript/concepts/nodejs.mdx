---
sidebar_position: 11
sidebar_label: Node.js
title: JavaScript | SDK | Node.js engine
description: Run SurrealDB as an embedded database in Node.js, Bun, or Deno using the Node.js engine plugin.
---

import Tabs from "@components/Tabs/Tabs.astro";
import TabItem from "@components/Tabs/TabItem.astro";

# Node.js engine

The `@surrealdb/node` package is a plugin for the JavaScript SDK that allows you to run SurrealDB as an embedded database within a Node.js server-side environment. It supports in-memory databases and persistent storage via RocksDB and SurrealKV, and is also compatible with Bun and Deno.

> [!IMPORTANT]
> This package works with ES modules (`import`), not CommonJS (`require`).

## Installing the Node.js engine

Before installing the Node.js engine, you need the core [JavaScript SDK](/docs/sdk/javascript/installation) installed. Then add the `@surrealdb/node` package.

<Tabs groupId="package-manager">
<TabItem value="npm" label="npm" default>

```bash
npm install --save @surrealdb/node
```

</TabItem>
<TabItem value="yarn" label="yarn">

```bash
yarn add @surrealdb/node
```

</TabItem>
<TabItem value="pnpm" label="pnpm">

```bash
pnpm install @surrealdb/node
```

</TabItem>
</Tabs>

## Registering the engine

Import `createNodeEngines` from `@surrealdb/node` and spread it into the `engines` option alongside `createRemoteEngines` from the core SDK. This registers the embedded protocols while keeping remote connections available.

```ts
import { Surreal, createRemoteEngines } from 'surrealdb';
import { createNodeEngines } from '@surrealdb/node';

const db = new Surreal({
    engines: {
        ...createRemoteEngines(),
        ...createNodeEngines(),
    },
});
```

## Supported connection protocols

Once the Node.js engine is registered, you can connect to SurrealDB using the embedded protocols.

| Protocol | Description |
|----------|-------------|
| `mem://` | In-memory database (data is lost when the process exits) |
| `rocksdb://` | Persistent database backed by [RocksDB](/docs/surrealdb/introduction/architecture) |
| `surrealkv://` | Persistent database backed by [SurrealKV](/docs/surrealdb/introduction/architecture) |

```ts
await db.connect('mem://');

await db.connect('surrealkv://./data');
```

To enable [versioned storage](/docs/surrealql/statements/select#version) for temporal queries, append `?versioned=true` to the connection string.

```ts
await db.connect('surrealkv://./data?versioned=true');
```

Remote protocols (`ws://`, `wss://`, `http://`, `https://`) remain available when `createRemoteEngines()` is also registered.

## Bun and Deno compatibility

The `@surrealdb/node` engine is compatible with Bun and Deno in addition to Node.js. The installation and usage are the same across all three runtimes.

## Closing the connection

When using the Node.js engine, you must close the connection with `.close()` when you are done to ensure the database is properly shut down and to avoid console warnings.

```ts
await db.close();
```

## Learn more

- [Node.js engine reference](/docs/sdk/javascript/engines/node) for additional engine configuration
- [Connecting to SurrealDB](/docs/sdk/javascript/concepts/connecting-to-surrealdb) for connection options and reconnection behavior
- [`@surrealdb/node` on npm](https://npmjs.com/package/@surrealdb/node)
