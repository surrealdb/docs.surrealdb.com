---
sidebar_position: 2
sidebar_label: Migrating from Neo4j
title: Migrating from Neo4j to SurrealDB
description: "How to map existing data and concepts from Neo4j to SurrealDB"
---

# Migrating from Neo4j to SurrealDB

This page details some Neo4j data types and patterns in the Cypher query language along with their SurrealQL equivalents or near equivalents, followed by links to the [Surreal Sync](https://github.com/surrealdb/surreal-sync/) tool which allows data from Neo4j to be automatically imported to SurrealDB.

## Concept mapping

<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Neo4j</th>
            <th colspan="2" scope="col">SurrealDB</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Neo4j">
                database
            </td>
            <td colspan="2" scope="row" data-label="SurrealDB">
                database
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Neo4j">
                node label
            </td>
            <td colspan="2" scope="row" data-label="SurrealDB">
                table
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Neo4j">
                node
            </td>
            <td colspan="2" scope="row" data-label="SurrealDB">
                record
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Neo4j">
                node property
            </td>
            <td colspan="2" scope="row" data-label="SurrealDB">
                field
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Neo4j">
                index
            </td>
            <td colspan="2" scope="row" data-label="SurrealDB">
                index
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Neo4j">
                id
            </td>
            <td colspan="2" scope="row" data-label="SurrealDB">
                record id
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Neo4j">
                transactions
            </td>
            <td colspan="2" scope="row" data-label="SurrealDB">
                transactions
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Neo4j">
                relationships
            </td>
            <td colspan="2" scope="row" data-label="SurrealDB">
                record links, embedding and graph relations
            </td>
        </tr>
    </tbody>
</table>

## Data types

The following chart shows Neo4j data types along with the equivalent or near-equivalent SurrealQL data type for each.

| Neo4j Data Type    | SurrealDB Mapping | Notes                                                                                     |
|--------------------|-------------------|-------------------------------------------------------------------------------------------|
| **Boolean**        | `bool`            |                                                                         |
| **Integer**        | `int`             |                                                                     |
| **Float**          | `float` (f64)     |                                                                          |
| **String**         | `string`          |                                                                          |
| **List**           | `array`           |                                              |
| **Map**            | `object`          |                                                |
| **Null**           | `null`            |                                                                         |
| **Date**           | `datetime`        | Convert to UTC datetime (assuming local timezone)                                        |
| **DateTime**       | `datetime`        | Convert to UTC datetime                                                                 |
| **LocalDateTime**  | `datetime`        | Convert to UTC datetime (assuming UTC)                                                   |
| **Duration**       | `duration`        |                                                                          |
| **Bytes**          | `bytes`           |                                                                          |
| **Time**           | `object`          | Convert to object with `type: "$Neo4jTime"`, hour, minute, second, nanosecond, offset_seconds fields |
| **LocalTime**      | `object`          | Convert to object with `type: "$Neo4jLocalTime"`, hour, minute, second, nanosecond fields |
| **Point2D**        | `object`          | Convert to GeoJSON-like object with `type: "Point"`, `srid` (4326), `coordinates: [longitude, latitude]`            |
| **Point3D**        | `object`          | Convert to GeoJSON-like object with `type: "Point"`, `srid` (4979), `coordinates: [longitude, latitude, elevation]` |
| **DateTimeZoneId** | `datetime`        | Convert to UTC datetime using embedded timezone ID                                      |


## Syntax mapping

The following shows some CRUD examples using SurrealQL syntax.

### Create

As Neo4j is schemaless, only the SurrealQL schemaless approach is shown below. For a schemafull option see the [`DEFINE TABLE`](/docs/surrealql/statements/define/table) page.

For more SurrealQL examples, see the [`CREATE`](/docs/surrealql/statements/create), [`INSERT`](/docs/surrealql/statements/insert) and [`RELATE`](/docs/surrealql/statements/relate) pages.

Simple create/insert operations:

```surql
// Cypher
CREATE (John:Person {name:‘John’}), (Jane:Person {name: ‘Jane’})

// SurrealQL
// Table implicitly created if it doesn't exist
INSERT INTO person [ {id: “John”, name: “John”}, {id: “Jane”, name: “Jane”} ] 
```

Graph relations via the [RELATE](/docs/surrealql/statements/relate) statement:

```surql
// Cypher
MATCH (p:Person {name:‘Jane’}), (pr:Product {name:‘iPhone’}) CREATE (p)-[:ORDER]->(pr)

// SurrealQL
RELATE person:Jane->order->product:iPhone
```

Defining an index:

```surql
// Cypher
CREATE INDEX personNameIndex FOR (p:Person) ON (p.name)

// SurrealQL
DEFINE INDEX idx_name ON TABLE person COLUMNS name
```

### Read

For more SurrealQL examples, see the [`SELECT`](/docs/surrealql/statements/select), [`LIVE SELECT`](/docs/surrealql/statements/live) and [`RETURN`](/docs/surrealql/statements/return) pages.

Returning all the fields of a table:

```surql
// Cypher
MATCH (p:Person) RETURN p

// SurrealQL
SELECT * FROM person
```

Returning a single field of a table:

```surql
// Cypher
MATCH (p:Person) RETURN p.name

// SurrealQL
SELECT name FROM person
```

Using the `WHERE` clause to return certain records:

```surql
// Cypher
MATCH (p:Person) WHERE p.name = “Jane” RETURN p.name

// SurrealQL
SELECT name FROM person WHERE name = “Jane”
```

Using `EXPLAIN` to detail the query plan used:

```surql
// Cypher
EXPLAIN MATCH (p:Person) WHERE p.name = "Jane" RETURN p.name

// SurrealQL
SELECT name FROM person WHERE name = "Jane" EXPLAIN
```

Grouping and counting the number of records returned:

```surql
// Cypher
MATCH (p:Person) RETURN count(*) as person_count

// SurrealQL
SELECT count() AS person_count FROM person GROUP ALL
```

See all distinct values for a field among the records of a table:

```surql
// Cypher
MATCH (p:Person) RETURN distinct p.name

// SurrealQL
SELECT array::distinct(name) FROM person GROUP ALL
```

Returning up to a certain number of records:

```surql
// Cypher
MATCH (p:Person) RETURN p LIMIT 10

// SurrealQL
SELECT * FROM person LIMIT 10
```

See which `person` records have ordered a `product` via the `order` graph edge:

```surql
// Cypher
MATCH (p:Person)-[:ORDER]->(pr:Product) RETURN p.name, pr.name

// SurrealQL
SELECT name, ->order->product.name FROM person
```

### Update

For more SurrealQL examples, see the [`UPDATE`](/docs/surrealql/statements/update) page.

Conditionally updating records that have a certain value for a field:

```surql
// Cypher
MATCH (p:Person)  WHERE p.name = "Jane"  SET p.last_name = 'Doe'  RETURN p

// SurrealQL
UPDATE person SET last_name = "Doe" WHERE name = "Jane"
```

Unsetting (removing) the value of a field for certain records:

```surql
// Cypher
MATCH (p:Person)   WHERE p.name = "Jane"   REMOVE p.last_name RETURN p

// SurrealQL
UPDATE person UNSET last_name WHERE name = "Jane"
```

### Delete

For more SurrealQL examples, see the [`DELETE`](/docs/surrealql/statements/delete) and [`REMOVE`](/docs/surrealql/statements/remove) pages.

Conditionally deleting records based on the value of a field:

```surql
// Cypher
MATCH (p:Person)  WHERE p.name = "Jane"  DELETE p

// SurrealQL
DELETE person WHERE name = "Jane"
```

Deleting all records for a table (SurrealQL: table still exists):

```surql
// Cypher
MATCH (p:Person)  DELETE p

// SurrealQL
DELETE person
```

Deleting all records and table definition for a table:

```surql
// Cypher
MATCH (p:Person)  DELETE p

// SurrealQL
REMOVE TABLE person
```

## Importing from Neo4j using Surreal Sync

Surreal Sync can be used to export Neo4j nodes and relationships to SurrealDB.

It supports inconsistent full syncs and consistent incremental syncs, and together provides ability to reproduce consistent snapshots from the source Neo4j graph onto the target SurrealDB tables.

For more on how to import data from Neo4j to SurrealDB, please see the following pages in the Surreal Sync repo.

* [Surreal-Sync for Neo4j](https://github.com/surrealdb/surreal-sync/blob/main/docs/neo4j.md)
* [Neo4j Data Types Support in surreal-sync](https://github.com/surrealdb/surreal-sync/blob/main/docs/neo4j-data-types.md)