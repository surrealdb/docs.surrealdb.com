---
sidebar_position: 13
sidebar_label: Environment variables
title: Environment variables used for SurrealDB
description: A list of the available environment variables used when running SurrealDB.
---

import Tabs from "@components/Tabs/Tabs.astro";
import TabItem from "@components/Tabs/TabItem.astro";
import Since from "@components/shared/Since.astro";

# Environment variables

Environment variables can be used to tailor the behaviour of a running SurrealDB instance.

## SurrealDB environment variables

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '50%'}}>Environment variable</th>
      <th scope="col" style={{width: '25%'}}>Default · Allowed values</th>
      <th scope="col" style={{width: '25%'}}>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_BUCKET_FOLDER_ALLOWLIST</code></td>
      <td scope="row" data-label="Default, allowed">none · Comma-separated paths</td>
      <td scope="row" data-label="Notes">Specifies a list of paths in which files can be accessed.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_BUILD_METADATA</code></td>
      <td scope="row" data-label="Default, allowed">Automatically populated · A string</td>
      <td scope="row" data-label="Notes">The version identifier of this build. Defaults to the CARGO_PKG_VERSION environment variable if not specified.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_CHANGEFEED_GC_INTERVAL</code></td>
      <td scope="row" data-label="Default, allowed">30s · A duration</td>
      <td scope="row" data-label="Notes">The interval at which to perform changefeed garbage collection.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_COUNT_BATCH_SIZE</code><Since v="v2.2.0" /></td>
      <td scope="row" data-label="Default, allowed">10,000 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of keys that should be scanned at once for count queries.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_DATASTORE_CACHE_SIZE</code><Since v="v2.1.0" /></td>
      <td scope="row" data-label="Default, allowed">1,000 · A usize</td>
      <td scope="row" data-label="Notes">The number of definitions which can be cached across transactions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_DEFAULT_DATABASE</code><Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Default, allowed">main · A string</td>
      <td scope="row" data-label="Notes">The default database to use when starting a SurrealDB instance.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_DEFAULT_NAMESPACE</code><Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Default, allowed">main · A string</td>
      <td scope="row" data-label="Notes">The default namespace to use when starting a SurrealDB instance.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ASYNC_EVENT_PROCESSING_INTERVAL</code></td>
      <td scope="row" data-label="Default, allowed">5s · A duration</td>
      <td scope="row" data-label="Notes"><Since v="v3.0.0-beta" /> The interval at which to process async events.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_EXPORT_BATCH_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">1000 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of keys that should be scanned at once for export queries.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_EXTERNAL_SORTING_BUFFER_LIMIT</code></td>
      <td scope="row" data-label="Default, allowed">50000 · A usize</td>
      <td scope="row" data-label="Notes">The number of result records which will trigger on-disk sorting.</td>
    </tr>
     <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_FILE_ALLOWLIST</code><Since v="v2.1.5" /></td>
      <td scope="row" data-label="Default, allowed">none · Comma-separated paths</td>
      <td scope="row" data-label="Notes">Limits file access for the mapper filter to only the specified allowed file paths. The paths must be provided as absolute paths, separated by a colon (:) on Unix-like systems or a semicolon (;) on Windows.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_GLOBAL_BUCKET</code></td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Notes">Specifies the name of a global bucket for file data.</td>
    </tr>
     <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_GENERATION_ALLOCATION_LIMIT</code></td>
      <td scope="row" data-label="Default, allowed">20 · An integer</td>
      <td scope="row" data-label="Notes">Limits memory allocation for certain built-in functions (e.g., string::replace) to avoid uncontrolled memory usage. Default is 1,048,576 bytes (computed as 2<sup>20</sup>).</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_GLOBAL_BUCKET_ENFORCED</code></td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Notes">Whether to enforce a global bucket for file data.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HNSW_CACHE_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">268,435,456 (256 MiB) · A usize</td>
      <td scope="row" data-label="Notes">The maximum size of the HNSW vector cache.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_CONNECT_TIMEOUT_SECS</code></td>
      <td scope="row" data-label="Default, allowed">30 · A usize</td>
      <td scope="row" data-label="Notes">The timeout for connecting to HTTP endpoints.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_IDLE_TIMEOUT_SECS</code></td>
      <td scope="row" data-label="Default, allowed">90 · A usize</td>
      <td scope="row" data-label="Notes">The timeout for idle HTTP connections before closing.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_MAX_API_BODY_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">4,194,304 (4 MiB) · A usize</td>
      <td scope="row" data-label="Notes">The maximum HTTP body size of the HTTP /api endpoint.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_MAX_IMPORT_BODY_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">4,398,046,511,104 (4 GiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /import endpoints</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_MAX_KEY_BODY_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">16,384 (16 KiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /key endpoints</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_MAX_ML_BODY_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">4,398,046,511,104 (4 GiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /ml endpoints</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_MAX_RPC_BODY_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">4,194,304 (4 MiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /rpc endpoint.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_MAX_SQL_BODY_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">1,048,576 (1 MiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /sql endpoint</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_MAX_SIGNIN_BODY_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">1024 (1 KiB) · A usize</td>
      <td scope="row" data-label="Notes">The maximum HTTP body size of the HTTP /signin endpoints</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_HTTP_MAX_SIGNUP_BODY_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">1024 (1 KiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /signup endpoint.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_IDIOM_RECURSION_LIMIT</code></td>
      <td scope="row" data-label="Default, allowed">256 · A usize</td>
      <td scope="row" data-label="Notes">The maximum recursive idiom path depth allowed.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_IMPORT_FILE</code></td>
      <td scope="row" data-label="Default, allowed">none · A file path</td>
      <td scope="row" data-label="Notes">Path to a SurrealQL file that will be imported when starting the server.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_INDEXING_BATCH_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">250 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of keys to scan at once per concurrent indexing batch.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_INSECURE_FORWARD_ACCESS_ERRORS</code></td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Notes">Forward all signup/signin/authenticate query errors to a client performing authentication. Do not use in production.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_BATCH_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">5,000 · A usize</td>
      <td scope="row" data-label="Notes">The maximum batch size for Scanner adaptive fetching.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_COMPUTATION_DEPTH</code></td>
      <td scope="row" data-label="Default, allowed">120 · A usize</td>
      <td scope="row" data-label="Notes">Specifies how deep recursive computation will go before erroring.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_CONCURRENT_TASKS</code></td>
      <td scope="row" data-label="Default, allowed">64 · A usize</td>
      <td scope="row" data-label="Notes">Specifies how many concurrent jobs can be buffered in the worker channel.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_HTTP_IDLE_CONNECTIONS</code></td>
      <td scope="row" data-label="Default, allowed">1000 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of idle HTTP connections to maintain.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_HTTP_IDLE_CONNECTIONS_PER_HOST</code></td>
      <td scope="row" data-label="Default, allowed">128 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of idle HTTP connections to maintain per host.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_HTTP_REDIRECTS</code><Since v="v2.0.5" /></td>
      <td scope="row" data-label="Default, allowed">10 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of HTTP redirects allowed within http functions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_OBJECT_PARSING_DEPTH</code></td>
      <td scope="row" data-label="Default, allowed">100 · A usize</td>
      <td scope="row" data-label="Notes">Specifies how deep the parser will parse nested objects and arrays in a query.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_ORDER_LIMIT_PRIORITY_QUEUE_SIZE</code><Since v="v2.2.0" /></td>
      <td scope="row" data-label="Default, allowed">1000 · A usize</td>
      <td scope="row" data-label="Notes">The maximum size of the priority queue triggering usage of the priority queue for the result collector.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MAX_QUERY_PARSING_DEPTH</code></td>
      <td scope="row" data-label="Default, allowed">20 · A usize</td>
      <td scope="row" data-label="Notes">Specifies how deep the parser will parse recursive queries (queries within queries).</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_MEMORY_THRESHOLD</code><Since v="v2.1.5" /></td>
      <td scope="row" data-label="Default, allowed">0 · A usize or suffixed integer</td>
      <td scope="row" data-label="Notes">Configuring the memory threshold which can be used across the programme to check if the amount of memory available to the programme is lower than required. The value can be specified as bytes (b, or without any suffix), kibibytes (k, kb, or kib), mebibytes (m, mb, or mib), or gibibytes (g, gb, or gib). If the environment variable is not specified, then the threshold is not used, and no memory limit is enabled.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_NET_MAX_CONCURRENT_REQUESTS</code></td>
      <td scope="row" data-label="Default, allowed">1,048,576 · A usize</td>
      <td scope="row" data-label="Notes">How many concurrent network requests can be handled at once</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_NO_DEFAULTS</code><Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Notes">Whether to disable default namespace and database creation. Conflicts with SURREAL_DEFAULT_DATABASE and SURREAL_DEFAULT_NAMESPACE, which set a default value for namespace and database for a new instance.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_NODE_MEMBERSHIP_CHECK_INTERVAL</code></td>
      <td scope="row" data-label="Default, allowed">15s · A duration</td>
      <td scope="row" data-label="Notes">The interval at which to process and archive inactive nodes.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_NODE_MEMBERSHIP_CLEANUP_INTERVAL</code></td>
      <td scope="row" data-label="Default, allowed">300s · A duration</td>
      <td scope="row" data-label="Notes">The interval at which to process and cleanup archived nodes.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_NODE_MEMBERSHIP_REFRESH_INTERVAL</code></td>
      <td scope="row" data-label="Default, allowed">3s · A duration</td>
      <td scope="row" data-label="Notes">The interval at which to refresh node registration information.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_NORMAL_FETCH_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">500 · A duration</td>
      <td scope="row" data-label="Notes">The maximum number of keys that should be scanned at once in general queries.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_REGEX_CACHE_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">1000 · A duration</td>
      <td scope="row" data-label="Notes">The number of computed regexes which can be cached in the engine.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_REGEX_SIZE_LIMIT</code><Since v="v2.1.5" /></td>
      <td scope="row" data-label="Default, allowed">10,485,760 (10 MiB) · A usize</td>
      <td scope="row" data-label="Notes">Limits the maximum allowed size (in bytes) for regular expressions. This prevents excessive memory consumption when building complex or very large regex patterns.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_RUNTIME_MAX_BLOCKING_THREADS</code></td>
      <td scope="row" data-label="Default, allowed">512 · A usize</td>
      <td scope="row" data-label="Notes">Number of threads which can be started for blocking operations.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_RUNTIME_STACK_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">10,485,760 (10 MiB) · A usize</td>
      <td scope="row" data-label="Notes">Runtime thread memory stack size. Default stack size is doubled if compiled from source in Debug mode.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_RUNTIME_WORKER_THREADS</code></td>
      <td scope="row" data-label="Default, allowed">Number of CPU cores (minimum 4) · A usize</td>
      <td scope="row" data-label="Notes">Number of runtime worker threads used to start.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_SCRIPTING_MAX_MEMORY_LIMIT</code></td>
      <td scope="row" data-label="Default, allowed">2,097,152 (2 MiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum memory limit of the JavaScript function runtime.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_SCRIPTING_MAX_STACK_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">262_144 (256 KiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum stack size of the JavaScript function runtime.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_SCRIPTING_MAX_TIME_LIMIT</code><Since v="v2.0.5" /></td>
      <td scope="row" data-label="Default, allowed">5000 (5000 milliseconds or 5 seconds · A usize)</td>
      <td scope="row" data-label="Notes">Maximum allowed time in milliseconds that a JavaScript function is allowed to run for.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_SURREALISM_CACHE_SIZE</code><Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Default, allowed">100 · A usize</td>
      <td scope="row" data-label="Notes">The number of surrealism modules which can be cached across transactions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TELEMETRY_DISABLE_METRICS</code><Since v="v2.1.3" /></td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Notes">Whether to disable sending metrics to the GRPC OTEL collector.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TELEMETRY_DISABLE_TRACING</code><Since v="v2.1.3" /></td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Notes">Whether to disable sending traces to the GRPC OTEL collector.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TELEMETRY_NAMESPACE</code></td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Notes">If set then use this as value for the namespace label when sending telemetry</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TELEMETRY_PROVIDER</code></td>
      <td scope="row" data-label="Default, allowed">none · otlp</td>
      <td scope="row" data-label="Notes">If set to "otlp" then telemetry is sent to the GRPC OTEL collector.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TEMPORARY_DIRECTORY</code></td>
      <td scope="row" data-label="Default, allowed">none · A string to a directory</td>
      <td scope="row" data-label="Notes">Sets the directory for storing temporary database files.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TOKIO_CONSOLE_ENABLED</code><Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Notes">Whether to enable [tokio console](https://github.com/tokio-rs/console).</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TOKIO_CONSOLE_RETENTION</code><Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Default, allowed">60 · A usize</td>
      <td scope="row" data-label="Notes">How long, in seconds, to retain data for completed events.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TOKIO_CONSOLE_SOCKET_ADDR</code><Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Default, allowed">false · A string to a socket address</td>
      <td scope="row" data-label="Notes">The socket address that Tokio Console will bind to.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TRANSACTION_CACHE_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">10,000 · A usize</td>
      <td scope="row" data-label="Notes">Specifies the number of items which can be cached within a single transaction.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_WEBSOCKET_MAX_MESSAGE_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">134,217,728 (128 MiB) · A usize</td>
      <td scope="row" data-label="Notes">Maximum WebSocket message size.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_WEBSOCKET_READ_BUFFER_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">131,072 (128 KiB) · A usize</td>
      <td scope="row" data-label="Notes">The size of the read buffer for WebSocket connections. This controls how much data can be buffered when reading from WebSocket connections. Larger values can improve performance for high-throughput connections but consume more memory per connection.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_WEBSOCKET_WRITE_BUFFER_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">131,072 (128 KiB) · A usize</td>
      <td scope="row" data-label="Notes">The size of the write buffer for WebSocket connections. This controls how much data can be buffered when writing to WebSocket connections. Larger values can improve performance for high-throughput connections but consume more memory per connection.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_WEBSOCKET_RESPONSE_BUFFER_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">0 · A usize</td>
      <td scope="row" data-label="Notes">How many responses can be buffered when delivering to the client.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_WEBSOCKET_RESPONSE_CHANNEL_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">100 · A usize</td>
      <td scope="row" data-label="Notes">Number of messages that can be queued for sending via WebSocket.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_WEBSOCKET_RESPONSE_FLUSH_PERIOD</code></td>
      <td scope="row" data-label="Default, allowed">3 · A usize</td>
      <td scope="row" data-label="Notes">How often (in milliseconds) any buffered responses are flushed to the WebSocket client.</td>
    </tr>
  </tbody>
</table>

## Command environment variables

Many of the arguments passed into [the CLI](/docs/surrealdb/cli/start) can be set using the above environment variables instead.

As each of these environment variables correspond to a flag or a required argument passed into a command, it is good practice to put together a command that matches the environment variables you wish to set. Once the database server conforms to your expected behaviour, you can then pull out the values passed into each flag for your environment variables.

For example, take the following command to start the database.

```bash
surreal start --user root --pass root --allow-net --deny-funcs "crypto::md5, http::post, http::delete"
```

If we now wanted to use environment variables instead of the `--allow-net` and `--deny-funcs` flags, we would use the `SURREAL_CAPS_ALLOW_NET` and `SURREAL_CAPS_DENY_FUNC` environment variables.

As the `--allow-net` flag was passed in without a following value, the same will be the case with the `SURREAL_CAPS_ALLOW_NET` environment variable, becoming `SURREAL_CAPS_ALLOW_NET=`. The `--deny-funcs` flag can also be used on its own to deny execution of all functions, but in this case is followed by a string to indicate which exact functions are not allowed to be executed. As such, the `SURREAL_CAPS_DENY_FUNC` environment variable must also be followed by a string, becoming `SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"`.

The command would then look like the following:

<Tabs groupId="start-command">

<TabItem value="bash" label="Bash" >
```bash
SURREAL_CAPS_ALLOW_NET
SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"
surreal start --user root --pass root
```
</TabItem>

<TabItem value="powershell" label="PowerShell" >
```powershell
$env:SURREAL_CAPS_ALLOW_NET
$env:SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"
surreal start --user root --pass root
```
</TabItem>
</Tabs>

### Boolean values in command environment variables

A command environment variable that takes a boolean will be set to true if the flag is present, and following it with `true` will cause an error.

For example, the `SURREAL_CAPS_ALLOW_ALL` environment variable is used to set whether to allow all capabilities such as scripting and allowing network access. The flag `--allow-all` is all that is needed to set to `true`. But as an environment variable, the value `true` must be included to override its default `false` value.

```bash title="SURREAL_CAPS_ALLOW_ALL example"
# set to default false
surreal start

# Same, but implicitly shown
SURREAL_CAPS_ALLOW_ALL=false surreal start

# Set to true
SURREAL_CAPS_ALLOW_ALL=true surreal start

# Set to true
surreal start --allow-all

# Error: only --allow-all needed to set to true
surreal start --allow-all true
```

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '35%'}}>Environment variable and command arg</th>
      <th scope="col" style={{width: '15%'}}>For command(s)</th>
      <th scope="col" style={{width: '20%'}}>Default · Allowed values </th>
      <th scope="col" style={{width: '30%'}}>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_AUTH_LEVEL` · `auth-level`</td>
      <td scope="row" data-label="Command">`export`, `import`, `sql`</td>
      <td scope="row" data-label="Default, allowed">root · root, namespace, ns, database, db</td>
      <td scope="row" data-label="Details">Authentication level to use when connecting.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_BIND` · `bind`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">127.0.0.1:8000 · A string to an address</td>
      <td scope="row" data-label="Details">The hostname or IP address(es) to listen for connections on.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_ALLOW_ALL` · `allow-all`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Details">Allow all capabilities.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_ALLOW_ARBITRARY_QUERY` · `allow-arbitrary-query`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · guest, record, system (comma-separated)</td>
      <td scope="row" data-label="Details">Allows arbitrary queries to be used by user groups except when specifically denied. Alternatively, you can provide a comma-separated list of user groups to allow specifically denied user groups to prevail over any other allowed user group.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_ALLOW_EXPERIMENTAL` · `allow-experimental`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · graphql, define_api, files, surrealism (comma-separated)</td>
      <td scope="row" data-label="Details">Allow execution of experimental features.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_ALLOW_FUNC` · `allow-funcs`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false, comma-separated strings to function paths</td>
      <td scope="row" data-label="Details">Allow execution of all functions except for functions that are specifically denied.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_ALLOW_GUESTS` · `allow-guests`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Details">Allow guest users to execute queries.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_ALLOW_NET` · `-allow-net`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · Comma-separated list of paths</td>
      <td scope="row" data-label="Details">Allow all or certain outbound network access.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_ALLOW_SCRIPT` · `allow-scripting`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Details">Allow execution of embedded scripting functions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_ALLOW_INSECURE_STORABLE_CLOSURES` · `allow-insecure-storable-closures`<Since v="v2.5.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Details">Takes a boolean. Prevents closures from being stored, which eliminates a potential attack surface. For version 2.5.0, this can still be allowed by using this capability.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_DENY_ALL` · `deny-all`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Details">Deny all capabilities.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_DENY_FUNC` · `deny-funcs`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false, comma-separated list</td>
      <td scope="row" data-label="Details">Deny execution of all or certain functions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_DENY_GUESTS` · `deny-guests`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Details">Deny guest users from executing queries.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_DENY_NET` · `deny-net`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">true · true, false, comma-separated list</td>
      <td scope="row" data-label="Details">Deny all or certain outbound access paths.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CAPS_DENY_SCRIPT` · `deny-scripting`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Details">Deny execution of embedded scripting functions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_CLIENT_IP` · `client-ip`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · none, socket, CF-Connecting-IP, Fly-Client-IP, True-Client-IP, X-Real-IP, X-Forwarded-For</td>
      <td scope="row" data-label="Details">The method of detecting the client's IP address.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_DATABASE` · `database`</td>
      <td scope="row" data-label="Command">`sql`</td>
      <td scope="row" data-label="Default, allowed">main · A string</td>
      <td scope="row" data-label="Details">The database selected when starting the REPL.</td>
    </tr>
<tr>
      <td scope="row" data-label="Env var">`SURREAL_DATABASE` · `database`</td>
      <td scope="row" data-label="Command">`export`, `import`</td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Details">The database selected for the import or export.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_HIDE_WELCOME` · `hide-welcome`</td>
      <td scope="row" data-label="Command">`sql`</td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Details">Whether to show the welcome message when starting the REPL.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_INDEX_COMPACTION_INTERVAL` · `index-compaction-interval`<Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">5s · A duration</td>
      <td scope="row" data-label="Notes">The interval at which to perform changefeed garbage collection.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_KEY` · `key`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · A string 16, 24, or 32 bytes long</td>
      <td scope="row" data-label="Details">Encryption key to use for on-disk encryption. Not currently in use.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_KVS_CA` · `kvs-ca`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · A string to a path</td>
      <td scope="row" data-label="Details">Path to the CA file used when connecting to the remote KV store.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_KVS_CRT` · `kvs-crt`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · A string to a path</td>
      <td scope="row" data-label="Details">Path to the certificate file used when connecting to the remote KV store.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_KVS_KEY` · `kvs-key`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · A string to a path</td>
      <td scope="row" data-label="Details">Path to the private key file used when connecting to the remote KV store.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG` · `log`</td>
      <td scope="row" data-label="Command">`start`, `fix`</td>
      <td scope="row" data-label="Default, allowed">info · none, full, error, warn, info, debug, trace</td>
      <td scope="row" data-label="Details">The logging level for the database server.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_FILE_ENABLED` · `log-file-enabled`<Since v="v2.4.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Details">Toggles file output (default: false)</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_FILE_FORMAT` · `log-file-format`<Since v="v2.4.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · text, json</td>
      <td scope="row" data-label="Details">The format for log file output.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_FILE_LEVEL` · `log-file-level`<Since v="v2.4.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · none, full, error, warn, info, debug, trace</td>
      <td scope="row" data-label="Details">Override the logging level for file output</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_FILE_NAME` · `log-file-name`<Since v="v2.4.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">surrealdb.log · String to a file</td>
      <td scope="row" data-label="Details">Filename for logs (default: `surrealdb.log`)</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_FILE_PATH` · `log-file-path`<Since v="v2.4.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">logs · String to a path</td>
      <td scope="row" data-label="Details">Sets the directory for logs</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_FILE_ROTATION` · `log-file-rotation`<Since v="v2.4.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">daily · daily, hourly, never</td>
      <td scope="row" data-label="Details">Sets the rotation duration for logs.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_FORMAT` · `log-format`<Since v="v2.4.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">text · text, json</td>
      <td scope="row" data-label="Details">Sets the format for logs.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_OTEL_LEVEL` · `log-otel-level` <Since v="v2.4.0" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">SURREAL_LOG logging level · none, full, error, warn, info, debug, trace</td>
      <td scope="row" data-label="Details">Override the logging level for OpenTelemetry</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_SOCKET` · `log-socket`<Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · String to a host:port</td>
      <td scope="row" data-label="Details">Send logs to the specified host:port</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_SOCKET_FORMAT` · `log-socket-format`<Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">text · text, json</td>
      <td scope="row" data-label="Details">  Set the format of the logs to the socket.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_LOG_SOCKET_LEVEL` · `log-socket-level`<Since v="v3.0.0-beta" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">SURREAL_LOG logging level · none, full, error, warn, info, debug, trace</td>
      <td scope="row" data-label="Details">  Override the logging level for socket logs. Possible values: none, full, error, warn, info, debug, trace</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_NAME` · `name`</td>
      <td scope="row" data-label="Command">`ml export`</td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Details">The name of the model.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_NAMESPACE` · `namespace`</td>
      <td scope="row" data-label="Command">`sql`</td>
      <td scope="row" data-label="Default, allowed">main · A string</td>
      <td scope="row" data-label="Details">The namespace to connect to via the REPL.</td>
    </tr>
<tr>
      <td scope="row" data-label="Env var">`SURREAL_NAMESPACE` · `namespace`</td>
      <td scope="row" data-label="Command">`export`, `import`</td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Details">The namespace selected for the import/export operation.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_NO_BANNER` · `no-banner`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Details">Whether to hide the startup banner.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_NO_IDENTIFICATION_HEADERS` · `no-identification-headers`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Details">Whether to suppress the server name and version headers.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_PASS` · `pass`</td>
      <td scope="row" data-label="Command">`export`, `import`, `sql`, `start`</td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Details">Database authentication password to use when connecting.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_PATH`</td>
      <td scope="row" data-label="Command">`fix`, `start`</td>
      <td scope="row" data-label="Default, allowed">memory · A string</td>
      <td scope="row" data-label="Details">Database path used for storing data. As a required argument (albeit with a default), it is not passed in via `--path`.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_QUERY_TIMEOUT` · `query-timeout`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · A duration</td>
      <td scope="row" data-label="Details">The maximum duration that a set of statements can run for.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_SLOW_QUERY_LOG_THRESHOLD` · `slow-log-threshold` <Since v="v2.3.8" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · A duration</td>
      <td scope="row" data-label="Details">A duration specifying the minimum execution time after which a log is made to indicate a slow query</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_SLOW_QUERY_LOG_PARAM_ALLOW` · `slow-log-param-allow` <Since v="v2.3.9" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · Comma-separated strings</td>
      <td scope="row" data-label="Details">A comma-separated list of parameter names to include in slow query logs.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_SLOW_QUERY_LOG_PARAM_DENY` · `slow-log-param-deny`<Since v="v2.3.9" /></td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · Comma-separated strings</td>
      <td scope="row" data-label="Details">A comma-separated list of parameter names to omit from slow query logs.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_STRICT` · `strict`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Details">Whether strict mode is enabled on this database instance.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_TEMPORARY_DIRECTORY` · `temporary-directory`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · String to a directory</td>
      <td scope="row" data-label="Details">Sets the directory for storing temporary database files</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_TOKEN` · `token`</td>
      <td scope="row" data-label="Command">`export`, `import`, `sql`</td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Details">Authentication token in JWT format to use when connecting.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_TRANSACTION_TIMEOUT` · `transaction-timeout`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · A duration</td>
      <td scope="row" data-label="Details">The maximum duration that any single transaction can run for.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_UNAUTHENTICATED` · `unauthenticated`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">false · true, false</td>
      <td scope="row" data-label="Details">Whether to allow unauthenticated access.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_USER` · `user`</td>
      <td scope="row" data-label="Command">`export`, `import`, `sql`, start</td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Details">Database authentication username to use when connecting.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_VERSION` · `version`</td>
      <td scope="row" data-label="Command">`ml export`</td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Details">The version of the ML model.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_WEB_CRT` · `web-crt`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · String to a path</td>
      <td scope="row" data-label="Details">Path to the certificate file for encrypted client connections.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var">`SURREAL_WEB_KEY` · `web-key`</td>
      <td scope="row" data-label="Command">`start`</td>
      <td scope="row" data-label="Default, allowed">none · String to a path</td>
      <td scope="row" data-label="Details">Path to the private key file for encrypted client connections.</td>
    </tr>
  </tbody>
</table>

## Environment variables by storage backend

These environment variables are used to configure the storage backend for SurrealDB.

### FoundationDB environment variables

> [!WARNING]
> FoundationDB support is deprecated in SurrealDB `3.0`. Please plan to migrate to a supported storage backend.

<table>
  <thead>
    <tr>
      <th scope="col">Environment variable</th>
      <th scope="col">Default value</th>
      <th scope="col">Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_FOUNDATIONDB_TRANSACTION_MAX_RETRY_DELAY</code></td>
      <td scope="row" data-label="Default">500</td>
      <td scope="row" data-label="Notes">The maximum delay between transaction retries in milliseconds.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_FOUNDATIONDB_TRANSACTION_RETRY_LIMIT</code></td>
      <td scope="row" data-label="Default">5</td>
      <td scope="row" data-label="Notes">The maximum number of times a transaction can be retried.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_FOUNDATIONDB_TRANSACTION_TIMEOUT</code></td>
      <td scope="row" data-label="Default">5000</td>
      <td scope="row" data-label="Notes">The maximum transaction timeout in milliseconds.</td>
    </tr>
  </tbody>
</table>

### RocksDB environment variables

Many RocksDB environment variables pertain to memory use. The default configuration results in the following rough estimates of RocksDB memory use on different instances:

| Instance memory size  | Estimate
| ------------- |:-------------:|
| 512 MiB | ~ 80MiB |
| 1 GiB | ~ 80MiB
| 2 GiB | ~ 640MiB
| 4 GiB | ~ 1.25GiB
| 8 GiB | ~ 3.25GiB
| 24 GiB | ~ 12GiB
| 128 GiB | ~ 67GiB

The available environment variables for configuring a RocksDB instance are:

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '50%'}}>Environment variable</th>
      <th scope="col" style={{width: '20%'}}>Default · Allowed values</th>
      <th scope="col" style={{width: '30%'}}>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BACKGROUND_FLUSH</code></td>
      <td scope="row" data-label="Default, allowed">true · false, true</td>
      <td scope="row" data-label="Notes">Whether to enable background WAL file flushing.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BACKGROUND_FLUSH_INTERVAL</code></td>
      <td scope="row" data-label="Default, allowed">200 (milliseconds) · A usize</td>
      <td scope="row" data-label="Notes">The interval in milliseconds between background flushes.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BLOB_COMPRESSION_TYPE</code></td>
      <td scope="row" data-label="Default, allowed">snappy · none, snappy, lz4, zstd</td>
      <td scope="row" data-label="Notes">Compression type used for blob files.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BLOB_FILE_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">268,435,456 (256 MiB) · A usize</td>
      <td scope="row" data-label="Notes">The target blob file size for RocksDB.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_ENABLE_BLOB_GC</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">Whether to enable blob garbage collection for RocksDB.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BLOB_GC_AGE_CUTOFF</code></td>
      <td scope="row" data-label="Default, allowed">0.5 · Float between 0 and 1</td>
      <td scope="row" data-label="Notes">Fractional age cutoff for blob GC.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BLOB_GC_FORCE_THRESHOLD</code></td>
      <td scope="row" data-label="Default, allowed">0.5 · Float between 0 and 1</td>
      <td scope="row" data-label="Notes">Discardable ratio threshold to force GC.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BLOB_COMPACTION_READAHEAD_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">0 · A usize</td>
      <td scope="row" data-label="Notes">Readahead size for blob compaction/GC.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BLOCK_CACHE_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">Dynamically calculated via greater of ((system memory / 2) - 1 GiB) and 16MiB · A usize</td>
      <td scope="row" data-label="Notes">RocksDB <a href="https://github.com/facebook/rocksdb/wiki/memory-usage-in-rocksdb">block cache size</a> in bytes</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_BLOCK_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">65,536 (64 KiB) · A usize</td>
      <td scope="row" data-label="Notes">The size of each uncompressed data block in bytes.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_COMPACTION_READAHEAD_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">4 MiB (systems under 4 GiB), 8 MiB (up to 16 GiB), 16 MiB (others) · A usize</td>
      <td scope="row" data-label="Notes">The readahead buffer size used during compaction.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_COMPACTION_STYLE</code> <Since v="v2.0.3" /></td>
      <td scope="row" data-label="Default, allowed">level · level, universal</td>
      <td scope="row" data-label="Notes">Use to specify the database compaction style.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_DELETION_FACTORY_DELETE_COUNT</code><Since v="v2.0.3" /></td>
      <td scope="row" data-label="Default, allowed">50 · A usize</td>
      <td scope="row" data-label="Notes">The number of deletions to track in the window.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_DELETION_FACTORY_RATIO</code><Since v="v2.0.3" /></td>
      <td scope="row" data-label="Default, allowed">0.5 · A float</td>
      <td scope="row" data-label="Notes">The ratio of deletions to track in the window.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_DELETION_FACTORY_WINDOW_SIZE</code><Since v="v2.0.3" /></td>
      <td scope="row" data-label="Default, allowed">1000 · A usize</td>
      <td scope="row" data-label="Notes">The size of the window used to track deletions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_ENABLE_BLOB_FILES</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">Whether to enable separate key and value file storage.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_ENABLE_PIPELINED_WRITES</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">Whether to use separate queues for WAL writes and memtable writes.</td>
    </tr>
<tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_GROUPED_COMMIT</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">Whether to enable grouped commit when sync is enabled. When enabled, multiple transaction commits are batched together and flushed to disk with a single fsync operation, improving throughput. When disabled, each transaction is committed and synced individually, which may provide lower latency for single transactions at the cost of reduced throughput under high load. Only used when SURREAL_SYNC_DATA is enabled and SURREAL_ROCKSDB_BACKGROUND_FLUSH is disabled.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_GROUPED_COMMIT_MAX_BATCH_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">4096 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of transactions in a single grouped commit batch. Used to prevent unbounded memory growth while still allowing large batches for efficiency. Larger batches improve throughput but increase memory usage and commit latency.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_GROUPED_COMMIT_TIMEOUT</code></td>
      <td scope="row" data-label="Default, allowed">5ms · A usize</td>
      <td scope="row" data-label="Notes">The maximum wait time in microseconds before forcing a grouped commit. Used to ensure that transactions do not wait indefinitely when concurrency is low, and to balance between transaction latency and write throughput.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_GROUPED_COMMIT_WAIT_THRESHOLD</code></td>
      <td scope="row" data-label="Default, allowed">12 · A usize</td>
      <td scope="row" data-label="Notes">Threshold for deciding whether to wait for more transactions. If the current batch size is greater or equal to this threshold (and below ROCKSDB_GROUPED_COMMIT_MAX_BATCH_SIZE), then the coordinator will wait up to ROCKSDB_GROUPED_COMMIT_TIMEOUT to collect more transactions. Smaller batches are flushed immediately to preserve low latency.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_FILE_COMPACTION_TRIGGER</code></td>
      <td scope="row" data-label="Default, allowed">4 · A usize</td>
      <td scope="row" data-label="Notes">The number of files needed to trigger level 0 compaction.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_JOBS_COUNT</code> <Since v="v2.0.3" /></td>
      <td scope="row" data-label="Default, allowed">Number of CPUs * 2 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of threads to use for flushing and compaction.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_KEEP_LOG_FILE_NUM</code></td>
      <td scope="row" data-label="Default, allowed">10 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of information log files to keep.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_MAX_CONCURRENT_SUBCOMPACTIONS</code></td>
      <td scope="row" data-label="Default, allowed">4 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number threads which will perform compactions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_MAX_OPEN_FILES</code></td>
      <td scope="row" data-label="Default, allowed">1024 · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of open files which can be opened by RocksDB.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_MAX_WRITE_BUFFER_NUMBER</code></td>
      <td scope="row" data-label="Default, allowed">2 (systems under 4 GiB), 4 (up to 16 GiB), 8 (up to 64 GiB), 32 (others) · A usize</td>
      <td scope="row" data-label="Notes">The maximum number of write buffers which can be used.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_MIN_BLOB_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">4096 · A usize</td>
      <td scope="row" data-label="Notes">The minimum size in bytes of a value for it to be stored in blob files.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_MIN_WRITE_BUFFER_NUMBER_TO_MERGE</code></td>
      <td scope="row" data-label="Default, allowed">2 · A usize</td>
      <td scope="row" data-label="Notes">The minimum number of write buffers to merge before writing to disk.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_SST_MAX_ALLOWED_SPACE_USAGE</code></td>
      <td scope="row" data-label="Default, allowed">0 · A usize</td>
      <td scope="row" data-label="Notes">The maximum allowed space usage for SST files in bytes. The default of 0 means unlimited and disables space monitoring. When this limit is reached, the datastore enters read-and-deletion-only mode, where only read and delete operations are allowed. This allows gradual space recovery through data deletion.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_STORAGE_LOG_LEVEL</code></td>
      <td scope="row" data-label="Default, allowed">warn · none, full, error, warn, info, debug, trace</td>
      <td scope="row" data-label="Notes">The information log level of the RocksDB library.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_TARGET_FILE_SIZE_BASE</code></td>
      <td scope="row" data-label="Default, allowed">67,108,864 (64 MiB)</td>
      <td scope="row" data-label="Notes">The target file size for compaction in bytes.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_TARGET_FILE_SIZE_MULTIPLIER</code></td>
      <td scope="row" data-label="Default, allowed">2 · A usize</td>
      <td scope="row" data-label="Notes">The target file size multiplier for each compaction level.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_THREAD_COUNT</code></td>
      <td scope="row" data-label="Default, allowed">Number of CPUs on machine · A usize</td>
      <td scope="row" data-label="Notes">The number of threads to start for flushing and compaction.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_WAL_SIZE_LIMIT</code></td>
      <td scope="row" data-label="Default, allowed">0 · A usize</td>
      <td scope="row" data-label="Notes">The write-ahead-log size limit in MiB.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ROCKSDB_WRITE_BUFFER_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">32 MiB (systems under 1 GiB), 64 MiB (up to 16 GiB), 128 MiB (others) · A usize</td>
      <td scope="row" data-label="Notes">The amount of data each write buffer can build up in memory.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_SYNC_DATA</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">Whether to sync writes to disk before acknowledgement.</td>
    </tr>
  </tbody>
</table>

### SurrealKV environment variables

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '50%'}}>Environment variable</th>
      <th scope="col" style={{width: '20%'}}>Default · Allowed values</th>
      <th scope="col" style={{width: '30%'}}>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_ENABLE_VLOG</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">Whether to enable value log separation.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_BLOCK_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">65_536 (64 KiB) · A usize</td>
      <td scope="row" data-label="Notes">The block size in bytes.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREALKV_VLOG_MAX_FILE_SIZE</code></td>
      <td scope="row" data-label="Default, allowed">64 MiB (systems under 4 GiB), 128 MiB (up to 16 GiB), 256 MiB (up to 64 GiB), 512 MiB (others) · A usize</td>
      <td scope="row" data-label="Notes">The readahead buffer size used during compaction.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREALKV_BLOCK_CACHE_CAPACITY</code></td>
      <td scope="row" data-label="Default, allowed">Dynamically calculated via greater of ((system memory / 2) - 1 GiB) and 16MiB · A usize</td>
      <td scope="row" data-label="Notes">The maximum log file size in bytes.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_SYNC_DATA</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">The block cache capacity in bytes.</td>
    </tr>
  </tbody>
</table>

### TiKV environment variables

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '50%'}}>Environment variable</th>
      <th scope="col" style={{width: '20%'}}>Default · Allowed values</th>
      <th scope="col" style={{width: '30%'}}>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TIKV_API_VERSION</code></td>
      <td scope="row" data-label="Default, allowed">1 · A u8</td>
      <td scope="row" data-label="Notes">Which TiKV cluster API version to use.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TIKV_ASYNC_COMMIT</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">Whether to use asynchronous transactions.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TIKV_KEYSPACE</code></td>
      <td scope="row" data-label="Default, allowed">none · A string</td>
      <td scope="row" data-label="Notes">A string specifying the keyspace identifier for data isolation.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TIKV_GRPC_MAX_DECODING_MESSAGE_SIZE</code><Since v="v2.1.8" /></td>
      <td scope="row" data-label="Default, allowed">4,194,304 (4 MiB) · A usize</td>
      <td scope="row" data-label="Notes">Sets the maximum decoding size of a gRPC message.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TIKV_ONE_PHASE_COMMIT</code></td>
      <td scope="row" data-label="Default, allowed">true · true, false</td>
      <td scope="row" data-label="Notes">Whether to use one-phase transaction commit.</td>
    </tr>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL_TIKV_REQUEST_TIMEOUT</code></td>
      <td scope="row" data-label="Default, allowed">10 · A usize</td>
      <td scope="row" data-label="Notes">The duration in seconds for requests before they time out.</td>
    </tr>
  </tbody>
</table>

## SurrealDB Cloud environment variables

Instances on SurrealDB Cloud are not started with a CLI command or environment variables. Instead, they can be set on the [Configure Instance](/docs/cloud/getting-started/create-an-instance#configure-an-instance) panel.