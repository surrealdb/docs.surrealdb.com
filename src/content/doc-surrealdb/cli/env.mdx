---
sidebar_position: 13
sidebar_label: Environment variables
title: Environment variables used for SurrealDB
description: A list of the available environment variables used when running SurrealDB.
---

import Tabs from "@components/Tabs/Tabs.astro";
import TabItem from "@components/Tabs/TabItem.astro";
import Since from "@components/shared/Since.astro";

# Environment variables

Environment variables can be used to tailor the behaviour of a running SurrealDB instance.

## SurrealDB environment variables

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '50%'}}>Environment variable</th>
      <th scope="col" style={{width: '20%'}}>Default value</th>
      <th scope="col" style={{width: '30%'}}>Notes</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ACCESSIBLE\_OUTPUT</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes"><Since v="v3.0.0-alpha.7" /> Displays characters unable to be read by screen readers, braile displays etc. in a more readable way.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_BUCKET\_FOLDER\_ALLOWLIST</code></td>
      <td scope="row" data-label="Default">empty</td>
      <td scope="row" data-label="Notes">Specifies a list of paths in which files can be accessed.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_BUILD\_METADATA</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">The version identifier of this build. Defaults to the CARGO\_PKG\_VERSION environment variable if not specified.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CHANGEFEED\_GC\_INTERVAL</code></td>
      <td scope="row" data-label="Default">10s</td>
      <td scope="row" data-label="Notes">The interval at which to perform changefeed garbage collection.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_COUNT\_BATCH\_SIZE</code></td>
      <td scope="row" data-label="Default">10,000</td>
      <td scope="row" data-label="Notes"><Since v="v2.2.0" /> The maximum number of keys that should be scanned at once for count queries.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_DATASTORE\_CACHE\_SIZE</code></td>
      <td scope="row" data-label="Default">1,000</td>
      <td scope="row" data-label="Notes"><Since v="v2.1.0" /> The number of definitions which can be cached across transactions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_EXPERIMENTAL\_BEARER\_ACCESS</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Enable experimental bearer access and stateful access grant management. Still under active development. Using this experimental feature may introduce risks related to breaking changes and security issues.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_EXPERIMENTAL\_GRAPHQL</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Enables experimental graphql integration. Still under active development. Using this experimental feature may introduce risks related to breaking changes and security issues.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_EXPORT\_BATCH\_SIZE</code></td>
      <td scope="row" data-label="Default">1000</td>
      <td scope="row" data-label="Notes">The maximum number of keys that should be scanned at once for export queries.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_EXTERNAL\_SORTING\_BUFFER\_LIMIT</code></td>
      <td scope="row" data-label="Default">50000</td>
      <td scope="row" data-label="Notes">Specifies the buffer limit for external sorting.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_FILE\_ALLOWLIST</code></td>
      <td scope="row" data-label="Default">20</td>
      <td scope="row" data-label="Notes"><Since v="v2.1.5" /> Limits file access for the mapper filter to only the specified allowed file paths. The paths must be provided as absolute paths, separated by a colon (:) on Unix-like systems or a semicolon (;) on Windows.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_FUNCTION\_ALLOCATION\_LIMIT</code></td>
      <td scope="row" data-label="Default">20</td>
      <td scope="row" data-label="Notes">Used to limit allocation for builtin functions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_GLOBAL\_BUCKET</code></td>
      <td scope="row" data-label="Default">None</td>
      <td scope="row" data-label="Notes">Specifies the name of a global bucket for file data.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_GENERATION\_ALLOCATION\_LIMIT</code></td>
      <td scope="row" data-label="Default">20</td>
      <td scope="row" data-label="Notes">Limits memory allocation for certain built-in functions (e.g., string::replace) to avoid uncontrolled memory usage. default is 1,048,576 bytes (computed as 2^20).</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_GLOBAL\_BUCKET\_ENFORCED</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Whether to enforce a global bucket for file data.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HTTP\_MAX\_API\_BODY\_SIZE</code></td>
      <td scope="row" data-label="Default">1 MiB</td>
      <td scope="row" data-label="Notes">The maximum HTTP body size of the HTTP /api endpoint.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HTTP\_MAX\_IMPORT\_BODY\_SIZE</code></td>
      <td scope="row" data-label="Default">4398046511104 (4 GiB)</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /import endpoints</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HTTP\_MAX\_KEY\_BODY\_SIZE</code></td>
      <td scope="row" data-label="Default">16384 (16 KiB)</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /key endpoints</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HTTP\_MAX\_ML\_BODY\_SIZE</code></td>
      <td scope="row" data-label="Default">4398046511104 (4 GiB)</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /ml endpoints</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HTTP\_MAX\_RPC\_BODY\_SIZE</code></td>
      <td scope="row" data-label="Default">4194304 (4 MiB)</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /rpc endpoint.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HTTP\_MAX\_SQL\_BODY\_SIZE</code></td>
      <td scope="row" data-label="Default">1048576 (1 MiB)</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /sql endpoint</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HTTP\_MAX\_SIGNIN\_BODY\_SIZE</code></td>
      <td scope="row" data-label="Default">1024 (1 KiB)</td>
      <td scope="row" data-label="Notes">The maximum HTTP body size of the HTTP /signin endpoints</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HTTP\_MAX\_SIGNUP\_BODY\_SIZE</code></td>
      <td scope="row" data-label="Default">1024 (1 KiB)</td>
      <td scope="row" data-label="Notes">Maximum HTTP body size of the HTTP /signup endpoint.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_IDIOM\_RECURSION\_LIMIT</code></td>
      <td scope="row" data-label="Default">256</td>
      <td scope="row" data-label="Notes">The maximum recursive idiom path depth allowed.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_IMPORT\_FILE</code></td>
      <td scope="row" data-label="Default">None</td>
      <td scope="row" data-label="Notes">Path to a SurrealQL file that will be imported when starting the server.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_INDEXING\_BATCH\_SIZE</code></td>
      <td scope="row" data-label="Default">250</td>
      <td scope="row" data-label="Notes">The maximum number of keys to scan at once per concurrent indexing batch.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_INSECURE\_FORWARD\_ACCESS\_ERRORS</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Forward all signup/signin/authenticate query errors to a client performing authentication. Do not use in production.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_MAX\_COMPUTATION\_DEPTH</code></td>
      <td scope="row" data-label="Default">120</td>
      <td scope="row" data-label="Notes">/// Specifies how deep recursive computation will go before erroring.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_MAX\_CONCURRENT\_TASKS</code></td>
      <td scope="row" data-label="Default">64</td>
      <td scope="row" data-label="Notes">Specifies how many concurrent jobs can be buffered in the worker channel.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_MAX\_HTTP\_REDIRECTS</code></td>
      <td scope="row" data-label="Default">10</td>
      <td scope="row" data-label="Notes"><Since v="v2.0.5" /> The maximum number of HTTP redirects allowed within http functions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_MAX\_OBJECT\_PARSING\_DEPTH</code></td>
      <td scope="row" data-label="Default">10</td>
      <td scope="row" data-label="Notes">Specifies how deep the parser will parse nested objects and arrays in a query.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_MAX\_ORDER\_LIMIT\_PRIORITY\_QUEUE\_SIZE</code></td>
      <td scope="row" data-label="Default">1000</td>
      <td scope="row" data-label="Notes"><Since v="v2.2.0" /> The maximum size of the priority queue triggering usage of the priority queue for the result collector.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_MAX\_QUERY\_PARSING\_DEPTH</code></td>
      <td scope="row" data-label="Default">20</td>
      <td scope="row" data-label="Notes">Specifies how deep the parser will parse recursive queries (queries within queries).</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_MAX\_STREAM\_BATCH\_SIZE</code></td>
      <td scope="row" data-label="Default">1000</td>
      <td scope="row" data-label="Notes">The maximum number of keys that should be fetched when streaming range scans in a Scanner.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_MEMORY\_THRESHOLD</code></td>

      <td scope="row" data-label="Default" />

      <td scope="row" data-label="Notes"><Since v="v2.1.5" /> Configuring the memory threshold which can be used across the programme to check if the amount of memory available to the programme is lower than required. The value can be specified as bytes (b, or without any suffix), kibibytes (k, kb, or kib), mebibytes (m, mb, or mib), or gibibytes (g, gb, or gib). If the environment variable is not specified, then the threshold is not used, and no memory limit is enabled.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NET\_MAX\_CONCURRENT\_REQUESTS</code></td>
      <td scope="row" data-label="Default">1,048,576 concurrent requests</td>
      <td scope="row" data-label="Notes">Adds a global limit for concurrent server requests, and introduces a new environment variable</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NODE\_MEMBERSHIP\_CHECK\_INTERVAL</code></td>
      <td scope="row" data-label="Default">15s</td>
      <td scope="row" data-label="Notes">The interval at which to process and archive inactive nodes.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NODE\_MEMBERSHIP\_CLEANUP\_INTERVAL</code></td>
      <td scope="row" data-label="Default">300s</td>
      <td scope="row" data-label="Notes">The interval at which to process and cleanup archived nodes.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NODE\_MEMBERSHIP\_REFRESH\_INTERVAL</code></td>
      <td scope="row" data-label="Default">3s</td>
      <td scope="row" data-label="Notes">The interval at which to refresh node registration information.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NORMAL\_FETCH\_SIZE</code></td>
      <td scope="row" data-label="Default">500</td>
      <td scope="row" data-label="Notes">The maximum number of keys that should be scanned at once in general queries.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_REGEX\_CACHE\_SIZE</code></td>
      <td scope="row" data-label="Default">100</td>
      <td scope="row" data-label="Notes">The number of computed regexes which can be cached in the engine.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_REGEX\_SIZE\_LIMIT</code></td>
      <td scope="row" data-label="Default">10,485,760</td>
      <td scope="row" data-label="Notes"><Since v="v2.1.5" /> Limits the maximum allowed size (in bytes) for compiled regular expressions. This prevents excessive memory consumption when building complex or very large regex patterns.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_RUNTIME\_MAX\_BLOCKING\_THREADS</code></td>
      <td scope="row" data-label="Default">512</td>
      <td scope="row" data-label="Notes">Number of threads which can be started for blocking operations.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_RUNTIME\_STACK\_SIZE</code></td>
      <td scope="row" data-label="Default">10485760 (10 MiB)</td>
      <td scope="row" data-label="Notes">Runtime thread memory stack size. Stack size is doubled if compiled from source in Debug mode.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_RUNTIME\_WORKER\_THREADS</code></td>
      <td scope="row" data-label="Default">Number of CPU cores (minimum 4)</td>
      <td scope="row" data-label="Notes">Number of runtime worker threads used to start.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SCRIPTING\_MAX\_MEMORY\_LIMIT</code></td>
      <td scope="row" data-label="Default">2097152 (2 MiB)</td>
      <td scope="row" data-label="Notes">Maximum memory limit of the JavaScript function runtime.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SCRIPTING\_MAX\_STACK\_SIZE</code></td>
      <td scope="row" data-label="Default">262144 (256 KiB)</td>
      <td scope="row" data-label="Notes">Maximum stack size of the JavaScript function runtime.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SCRIPTING\_MAX\_TIME\_LIMIT</code></td>
      <td scope="row" data-label="Default">5000 (5000 milliseconds or 5 seconds)</td>
      <td scope="row" data-label="Notes"><Since v="v2.0.5" /> Maximum allowed time that a JavaScript function is allowed to run for.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SURREALCS\_CONNECTION\_POOL\_SIZE</code></td>
      <td scope="row" data-label="Default">Number of CPUs on the current device</td>
      <td scope="row" data-label="Notes"><Since v="v2.0.2" /> Size of the SurrealCS connection pool.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TELEMETRY\_DISABLE\_METRICS</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes"><Since v="v2.1.3" /> Disables sending metrics to the GRPC OTEL collector.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TELEMETRY\_DISABLE\_TRACING</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes"><Since v="v2.1.3" /> Disables sending traces to the GRPC OTEL collector.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TELEMETRY\_NAMESPACE</code></td>
      <td scope="row" data-label="Default">None</td>
      <td scope="row" data-label="Notes">If set then use this as value for the namespace label when sending telemetry</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TELEMETRY\_PROVIDER</code></td>
      <td scope="row" data-label="Default">None</td>
      <td scope="row" data-label="Notes">If set to "otlp" then telemetry is sent to the GRPC OTEL collector.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TEMPORARY\_DIRECTORY</code></td>
      <td scope="row" data-label="Default">None</td>
      <td scope="row" data-label="Notes">Sets the directory for storing temporary database files.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TOKIO\_CONSOLE\_ENABLED</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes"><Since v="v3.0.0-alpha.7" /> Whether to enable [tokio console](https://github.com/tokio-rs/console).</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TOKIO\_CONSOLE\_RETENTION</code></td>
      <td scope="row" data-label="Default">60</td>
      <td scope="row" data-label="Notes"><Since v="v3.0.0-alpha.7" /> How long, in seconds, to retain data for completed events.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TOKIO\_CONSOLE\_SOCKET\_ADDR</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes"><Since v="v3.0.0-alpha.7" /> The socket address that Tokio Console will bind to.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TRANSACTION\_CACHE\_SIZE</code></td>
      <td scope="row" data-label="Default">10000</td>
      <td scope="row" data-label="Notes">Specifies the number of items which can be cached within a single transaction.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_WEBSOCKET\_MAX\_CONCURRENT\_REQUESTS</code></td>
      <td scope="row" data-label="Default">4 times the number of CPU cores, minimum 12</td>
      <td scope="row" data-label="Notes">Maximum concurrent tasks that can be handled on each WebSocket.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_WEBSOCKET\_MAX\_FRAME\_SIZE</code></td>
      <td scope="row" data-label="Default">16777216 (16 MiB)</td>
      <td scope="row" data-label="Notes">Maximum WebSocket frame size.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_WEBSOCKET\_MAX\_MESSAGE\_SIZE</code></td>
      <td scope="row" data-label="Default">134217728 (128 MiB)</td>
      <td scope="row" data-label="Notes">Maximum WebSocket message size.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_WEBSOCKET\_RESPONSE\_BUFFER\_SIZE</code></td>
      <td scope="row" data-label="Default">0</td>
      <td scope="row" data-label="Notes">How many responses can be buffered when delivering to the client.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_WEBSOCKET\_RESPONSE\_CHANNEL\_SIZE</code></td>
      <td scope="row" data-label="Default">100</td>
      <td scope="row" data-label="Notes">Configuring the WebSocket buffer size and the WebSocket response queue size.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_WEBSOCKET\_RESPONSE\_FLUSH\_PERIOD</code></td>
      <td scope="row" data-label="Default">3</td>
      <td scope="row" data-label="Notes">How often (in milliseconds) any buffered responses are flushed to the WebSocket client.</td>
    </tr>
  </tbody>
</table>

## Command environment variables

Many of the arguments passed into [the CLI](/docs/surrealdb/cli/start) can be set using the above environment variables instead.

As each of these environment variables correspond to a flag passed into a command, it is good practice to put together a command that matches the environment variables you wish to set. Once the database server conforms to your expected behaviour, you can then pull out the values passed into each flag for your environment variables.

For example, take the following command to start the database.

```bash
surreal start --user root --pass root --allow-net --deny-funcs "crypto::md5, http::post, http::delete"
```

If we now wanted to use environment variables instead of the `--allow-net` and `--deny-funcs` flags, we would use the `SURREAL_CAPS_ALLOW_NET` and `SURREAL_CAPS_DENY_FUNC` environment variables.

As the `--allow-net` flag was passed in without a following value, the same will be the case with the `SURREAL_CAPS_ALLOW_NET` environment variable, becoming `SURREAL_CAPS_ALLOW_NET=`. The `--deny-funcs` flag can also be used on its own to deny execution of all functions, but in this case is followed by a string to indicate which exact functions are not allowed to be executed. As such, the `SURREAL_CAPS_DENY_FUNC` environment variable must also be followed by a string, becoming `SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"`.

The command would then look like the following:

<Tabs groupId="start-command">
  <TabItem value="bash" label="Bash">
    ```bash
    SURREAL_CAPS_ALLOW_NET
    SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"
    surreal start --user root --pass root
    ```
  </TabItem>

  <TabItem value="powershell" label="PowerShell">
    ```powershell
    $env:SURREAL_CAPS_ALLOW_NET
    $env:SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"
    surreal start --user root --pass root
    ```
  </TabItem>
</Tabs>

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '30%'}}>Environment variable</th>
      <th scope="col" style={{width: '20%'}}>For command(s)</th>
      <th scope="col" style={{width: '10%'}}>arg</th>
      <th scope="col" style={{width: '30%'}}>Details</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_AUTH\_LEVEL</code></td>
      <td scope="row" data-label="Command">surreal export, import, sql</td>
      <td scope="row" data-label="Argument">auth-level</td>
      <td scope="row" data-label="Details">Authentication level to use when connecting.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_BIND</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">bind</td>
      <td scope="row" data-label="Details">The hostname or IP address(es) to listen for connections on.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_ALLOW\_ALL</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">allow-all</td>
      <td scope="row" data-label="Details">Allow all capabilities.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_ALLOW\_ARBITRARY\_QUERY</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">allow-arbitrary-query</td>
      <td scope="row" data-label="Details">Allows arbitrary queries to be used by user groups. Possible user groups are: 'guest', 'record', and 'system'.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_ALLOW\_EXPERIMENTAL</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">allow-experimental</td>
      <td scope="row" data-label="Details">Allow execution of experimental features.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_ALLOW\_FUNC</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">allow-funcs</td>
      <td scope="row" data-label="Details">Allow execution of all or certain functions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_ALLOW\_GUESTS</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">allow-guests</td>
      <td scope="row" data-label="Details">Allow guest users to execute queries.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_ALLOW\_NET</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">allow-net</td>
      <td scope="row" data-label="Details">Allow all or certain outbound network access.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_ALLOW\_SCRIPT</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">allow-scripting</td>
      <td scope="row" data-label="Details">Allow execution of embedded scripting functions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_DENY\_ALL</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">deny-all</td>
      <td scope="row" data-label="Details">Deny all capabilities.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_DENY\_FUNC</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">deny-funcs</td>
      <td scope="row" data-label="Details">Deny execution of all or certain functions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_DENY\_GUESTS</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">deny-guests</td>
      <td scope="row" data-label="Details">Deny guest users to execute queries.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_DENY\_NET</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">deny-net</td>
      <td scope="row" data-label="Details">Deny all or certain outbound access paths.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CAPS\_DENY\_SCRIPT</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">deny-scripting</td>
      <td scope="row" data-label="Details">Deny execution of embedded scripting functions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_CLIENT\_IP</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">client-ip</td>
      <td scope="row" data-label="Details">The method of detecting the client's IP address.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_DATABASE</code></td>
      <td scope="row" data-label="Command">surreal export, import, sql</td>
      <td scope="row" data-label="Argument">database</td>
      <td scope="row" data-label="Details">The database selected for the operation.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_HIDE\_WELCOME</code></td>
      <td scope="row" data-label="Command">surreal sql</td>
      <td scope="row" data-label="Argument">hide-welcome</td>
      <td scope="row" data-label="Details">Whether to show welcome message.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_INDEX\_COMPACTION\_INTERVAL</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">hide-welcome</td>
      <td scope="row" data-label="Notes"><Since v="v3.0.0-alpha.8" /> Changes the default 5s interval used for full-text search background compaction.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_KEY</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">key</td>
      <td scope="row" data-label="Details">Encryption key to use for on-disk encryption.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_KVS\_CA</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">kvs-ca</td>
      <td scope="row" data-label="Details">Path to the CA file used when connecting to the remote KV store.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_KVS\_CERT</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">kvs-cert</td>
      <td scope="row" data-label="Details">Path to the certificate file used when connecting to the remote KV store.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_KVS\_KEY</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">kvs-key</td>
      <td scope="row" data-label="Details">Path to the private key file used when connecting to the remote KV store.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG</code></td>
      <td scope="row" data-label="Command">surreal fix, start</td>
      <td scope="row" data-label="Argument">log</td>
      <td scope="row" data-label="Details">The logging level for the database server.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_FILE\_ENABLED</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-file-enabled</td>
      <td scope="row" data-label="Details"><Since v="v2.4.0" /> Toggles file output (default: false)</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_FILE\_LEVEL</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-file-level</td>
      <td scope="row" data-label="Details"><Since v="v2.4.0" /> Override the logging level for file output</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_FILE\_NAME</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-file-name</td>
      <td scope="row" data-label="Details"><Since v="v2.4.0" /> Filename for logs (default: `surrealdb.log`)</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_FILE\_PATH</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-file-path</td>
      <td scope="row" data-label="Details"><Since v="v2.4.0" /> Sets the directory for logs (default: `./logs`)</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_FILE\_ROTATION</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-file-rotation</td>
      <td scope="row" data-label="Details"><Since v="v2.4.0" /> Sets the directory for logs (one of `daily`, `hourly`, `never`; default: `daily`)</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_OTEL\_LEVEL</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-otel-level</td>
      <td scope="row" data-label="Details"><Since v="v2.4.0" /> Override the logging level for OpenTelemetry</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_SOCKET</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-socket</td>
      <td scope="row" data-label="Details"><Since v="v3.0.0-alpha.8" /> Send logs to the specified host:port</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_SOCKET\_FORMAT</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-socket-format</td>
      <td scope="row" data-label="Details"><Since v="v3.0.0-alpha.8" /> Set the format of the logs to the unix socket ("text" or "json"; default: "text")</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_LOG\_SOCKET\_LEVEL</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">log-socket-level</td>
      <td scope="row" data-label="Details"><Since v="v3.0.0-alpha.8" /> Override the logging level for unix socket logs</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NAME</code></td>
      <td scope="row" data-label="Command">surreal ml export</td>
      <td scope="row" data-label="Argument">name</td>
      <td scope="row" data-label="Details">The name of the model.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NAMESPACE</code></td>
      <td scope="row" data-label="Command">surreal export, import, sql</td>
      <td scope="row" data-label="Argument">namespace</td>
      <td scope="row" data-label="Details">The namespace selected for the operation.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NO\_BANNER</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">no-banner</td>
      <td scope="row" data-label="Details">Whether to hide the startup banner.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_NO\_IDENTIFICATION\_HEADERS</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">no-identification-headers</td>
      <td scope="row" data-label="Details">Whether to suppress the server name and version headers.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_PASS</code></td>
      <td scope="row" data-label="Command">surreal export, import, sql, start</td>
      <td scope="row" data-label="Argument">password, pass</td>
      <td scope="row" data-label="Details">Database authentication password to use when connecting.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_PATH</code></td>
      <td scope="row" data-label="Command">surreal fix, start</td>
      <td scope="row" data-label="Argument">path</td>
      <td scope="row" data-label="Details">Database path used for storing data.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_QUERY\_TIMEOUT</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">query-timeout</td>
      <td scope="row" data-label="Details">The maximum duration that a set of statements can run for.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_STRICT</code></td>
      <td scope="row" data-label="Command">start</td>
      <td scope="row" data-label="Argument">strict</td>
      <td scope="row" data-label="Details">Whether strict mode is enabled on this database instance.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TEMPORARY\_DIRECTORY</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">temporary-directory</td>
      <td scope="row" data-label="Details">Sets the directory for storing temporary database files</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TOKEN</code></td>
      <td scope="row" data-label="Command">surreal export, import, sql</td>
      <td scope="row" data-label="Argument">token</td>
      <td scope="row" data-label="Details">Authentication token in JWT format to use when connecting.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TRANSACTION\_TIMEOUT</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">transaction-timeout</td>
      <td scope="row" data-label="Details">The maximum duration that any single transaction can run for.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_UNAUTHENTICATED</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">unauthenticated</td>
      <td scope="row" data-label="Details">Whether to allow unauthenticated access.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_USER</code></td>
      <td scope="row" data-label="Command">surreal export, import, sql, start</td>
      <td scope="row" data-label="Argument">username, user</td>
      <td scope="row" data-label="Details">Database authentication username to use when connecting.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_VERSION</code></td>
      <td scope="row" data-label="Command">surreal ml export</td>
      <td scope="row" data-label="Argument">name</td>
      <td scope="row" data-label="Details">The version of the model.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_WEB\_CRT</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">web-crt</td>
      <td scope="row" data-label="Details">Path to the certificate file for encrypted client connections.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_WEB\_KEY</code></td>
      <td scope="row" data-label="Command">surreal start</td>
      <td scope="row" data-label="Argument">web-key</td>
      <td scope="row" data-label="Details">Path to the private key file for encrypted client connections.</td>
    </tr>
  </tbody>
</table>

## Environment variables by storage backend

These environment variables are used to configure the storage backend for SurrealDB.

### FoundationDB environment variables

> \[!WARNING]
> FoundationDB support is deprecated in SurrealDB `3.0`. Please plan to migrate to a supported storage backend.

<table>
  <thead>
    <tr>
      <th scope="col">Environment variable</th>
      <th scope="col">Default value</th>
      <th scope="col">Notes</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_FOUNDATIONDB\_TRANSACTION\_MAX\_RETRY\_DELAY</code></td>
      <td scope="row" data-label="Default">500</td>
      <td scope="row" data-label="Notes">The maximum delay between transaction retries in milliseconds.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_FOUNDATIONDB\_TRANSACTION\_RETRY\_LIMIT</code></td>
      <td scope="row" data-label="Default">5</td>
      <td scope="row" data-label="Notes">The maximum number of times a transaction can be retried.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_FOUNDATIONDB\_TRANSACTION\_TIMEOUT</code></td>
      <td scope="row" data-label="Default">5000</td>
      <td scope="row" data-label="Notes">The maximum transaction timeout in milliseconds.</td>
    </tr>
  </tbody>
</table>

### RocksDB environment variables

Many RocksDB environment variables pertain to memory use. The default configuration results in the following rough estimates of RocksDB memory use on different instances:

| Instance memory size |  Estimate  |
| -------------------- | :--------: |
| 512 MiB              |  \~ 80MiB  |
| 1 GiB                |  \~ 80MiB  |
| 2 GiB                |  \~ 640MiB |
| 4 GiB                | \~ 1.25GiB |
| 8 GiB                | \~ 3.25GiB |
| 24 GiB               |  \~ 12GiB  |
| 128 GiB              |  \~ 67GiB  |

The available environment variables for configuring a RocksDB instance are:

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '50%'}}>Environment variable</th>
      <th scope="col" style={{width: '20%'}}>Default value</th>
      <th scope="col" style={{width: '30%'}}>Notes</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_BACKGROUND\_FLUSH</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Whether to enable background WAL file flushing.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_BACKGROUND\_FLUSH\_INTERVAL</code></td>
      <td scope="row" data-label="Default">200</td>
      <td scope="row" data-label="Notes">The interval in milliseconds between background flushes.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_BLOCK\_CACHE\_SIZE</code></td>
      <td scope="row" data-label="Default">Dynamic from 16MiB to \~45% of total machine memory</td>
      <td scope="row" data-label="Notes">RocksDB <a href="https://github.com/facebook/rocksdb/wiki/memory-usage-in-rocksdb">block cache size</a> in bytes</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_BLOCK\_SIZE</code></td>
      <td scope="row" data-label="Default">64 KiB</td>
      <td scope="row" data-label="Notes">The size of each uncompressed data block in bytes.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_COMPACTION\_READAHEAD\_SIZE</code></td>
      <td scope="row" data-label="Default">Dynamic from 4 MiB to 16 MiB depending on total system memory</td>
      <td scope="row" data-label="Notes">The readahead buffer size used during compaction.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_COMPACTION\_STYLE</code></td>
      <td scope="row" data-label="Default">"level"</td>
      <td scope="row" data-label="Notes"><Since v="v2.0.3" /> Use to specify the database compaction style.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_DELETION\_FACTORY\_DELETION\_COUNT</code></td>
      <td scope="row" data-label="Default">50</td>
      <td scope="row" data-label="Notes"><Since v="v2.0.3" /> The number of deletions to track in the window.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_DELETION\_FACTORY\_RATIO</code></td>
      <td scope="row" data-label="Default">0.5</td>
      <td scope="row" data-label="Notes"><Since v="v2.0.3" /> The ratio of deletions to track in the window.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_DELETION\_FACTORY\_WINDOW\_SIZE</code></td>
      <td scope="row" data-label="Default">1000</td>
      <td scope="row" data-label="Notes"><Since v="v2.0.3" /> The size of the window used to track deletions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_ENABLE\_BLOB\_FILES</code></td>
      <td scope="row" data-label="Default">true</td>
      <td scope="row" data-label="Notes">Whether to enable separate key and value file storage.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_ENABLE\_MEMORY\_MAPPED\_READS</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Whether to enable memory-mapped reads.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_ENABLE\_MEMORY\_MAPPED\_WRITES</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Whether to enable memory-mapped writes.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_ENABLE\_PIPELINED\_WRITES</code></td>
      <td scope="row" data-label="Default">true</td>
      <td scope="row" data-label="Notes">Whether to use separate queues for WAL writes and memtable writes.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_FILE\_COMPACTION\_TRIGGER</code></td>
      <td scope="row" data-label="Default">4</td>
      <td scope="row" data-label="Notes">The number of files needed to trigger level 0 compaction.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_JOBS\_COUNT</code></td>
      <td scope="row" data-label="Default">Number of CPUs \* 2</td>
      <td scope="row" data-label="Notes"><Since v="v2.0.3" /> The maximum number of threads to use for flushing and compaction.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_KEEP\_LOG\_FILE\_NUM</code></td>
      <td scope="row" data-label="Default">10</td>
      <td scope="row" data-label="Notes">The maximum number of information log files to keep.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_MAX\_CONCURRENT\_SUBCOMPACTIONS</code></td>
      <td scope="row" data-label="Default">4</td>
      <td scope="row" data-label="Notes">The maximum number threads which will perform compactions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_MAX\_OPEN\_FILES</code></td>
      <td scope="row" data-label="Default">1024</td>
      <td scope="row" data-label="Notes">The maximum number of open files which can be opened by RocksDB.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_MAX\_WRITE\_BUFFER\_NUMBER</code></td>
      <td scope="row" data-label="Default">Dynamic from 2 to 32 depending on total system memory</td>
      <td scope="row" data-label="Notes">The maximum number of write buffers which can be used.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_MIN\_BLOB\_SIZE</code></td>
      <td scope="row" data-label="Default">4096</td>
      <td scope="row" data-label="Notes">The minimum size of a value for it to be stored in blob files.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_MIN\_WRITE\_BUFFER\_NUMBER\_TO\_MERGE</code></td>
      <td scope="row" data-label="Default">2</td>
      <td scope="row" data-label="Notes">The minimum number of write buffers to merge before writing to disk.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_STORAGE\_LOG\_LEVEL</code></td>
      <td scope="row" data-label="Default">"warn"</td>
      <td scope="row" data-label="Notes">The information log level of the RocksDB library.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_TARGET\_FILE\_SIZE\_BASE</code></td>
      <td scope="row" data-label="Default">64 MiB</td>
      <td scope="row" data-label="Notes">The target file size for compaction in bytes.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_TARGET\_FILE\_SIZE\_MULTIPLIER</code></td>
      <td scope="row" data-label="Default">2</td>
      <td scope="row" data-label="Notes">The target file size multiplier for each compaction level.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_THREAD\_COUNT</code></td>
      <td scope="row" data-label="Default">Number of CPUs on machine</td>
      <td scope="row" data-label="Notes">The number of threads to start for flushing and compaction.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_WAL\_SIZE\_LIMIT</code></td>
      <td scope="row" data-label="Default">0 MB</td>
      <td scope="row" data-label="Notes">The write-ahead-log size limit in MiB.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_ROCKSDB\_WRITE\_BUFFER\_SIZE</code></td>
      <td scope="row" data-label="Default">Dynamic from 32 MiB to 128 MiB depending on total system memory</td>
      <td scope="row" data-label="Notes">The amount of data each write buffer can build up in memory.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SYNC\_DATA</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Controls the behaviour of RocksDB and SurrealKV. Allows data durability configuration, ensuring that the database can be configured for writes to be synced to disk before transactions are confirmed to be completed.</td>
    </tr>
  </tbody>
</table>

### SurrealKV environment variables

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '50%'}}>Environment variable</th>
      <th scope="col" style={{width: '20%'}}>Default value</th>
      <th scope="col" style={{width: '30%'}}>Notes</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SURREALKV\_MAX\_SEGMENT\_SIZE</code></td>
      <td scope="row" data-label="Default">512 MiB</td>
      <td scope="row" data-label="Notes">The maximum size of a single data file segment.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SURREALKV\_MAX\_VALUE\_CACHE\_SIZE</code></td>
      <td scope="row" data-label="Default">Whichever is larger of "System total memory / 2 - 1GiB" and "16 MiB"</td>
      <td scope="row" data-label="Notes">The size of the in-memory value cache for SurrealKV.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SURREALKV\_MAX\_VALUE\_THRESHOLD</code></td>
      <td scope="row" data-label="Default">64</td>
      <td scope="row" data-label="Notes">The size in bytes to store values in the tree, or a separate log file.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_SYNC\_DATA</code></td>
      <td scope="row" data-label="Default">false</td>
      <td scope="row" data-label="Notes">Controls the behaviour of RocksDB and SurrealKV. Allows data durability configuration, ensuring that the database can be configured for writes to be synced to disk before transactions are confirmed to be completed.</td>
    </tr>
  </tbody>
</table>

### TiKV environment variables

<table>
  <thead>
    <tr>
      <th scope="col" style={{width: '50%'}}>Environment variable</th>
      <th scope="col" style={{width: '20%'}}>Default value</th>
      <th scope="col" style={{width: '30%'}}>Notes</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TIKV\_API\_VERSION</code></td>
      <td scope="row" data-label="Default">1</td>
      <td scope="row" data-label="Notes">Which TiKV cluster API version to use.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TIKV\_ASYNC\_COMMIT</code></td>
      <td scope="row" data-label="Default">true</td>
      <td scope="row" data-label="Notes">Whether to use asynchronous transactions.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TIKV\_KEYSPACE</code></td>
      <td scope="row" data-label="Default">None</td>
      <td scope="row" data-label="Notes">A string specifying the keyspace identifier for data isolation.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TIKV\_GRPC\_MAX\_DECODING\_MESSAGE\_SIZE</code></td>
      <td scope="row" data-label="Default">4194304 (4 MiB)</td>
      <td scope="row" data-label="Notes"><Since v="v2.1.8" />Sets the maximum decoding size of a gRPC message.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TIKV\_ONE\_PHASE\_COMMIT</code></td>
      <td scope="row" data-label="Default">true</td>
      <td scope="row" data-label="Notes">Whether to use one-phase transaction commit.</td>
    </tr>

    <tr>
      <td scope="row" data-label="Env var"><code>SURREAL\_TIKV\_REQUEST\_TIMEOUT</code></td>
      <td scope="row" data-label="Default">10</td>
      <td scope="row" data-label="Notes">The duration in seconds for requests before they time out.</td>
    </tr>
  </tbody>
</table>

## Command environment variables

Many of the arguments passed into [the CLI](/docs/surrealdb/cli/start) can be set using the above environment variables instead.

As each of these environment variables correspond to a flag passed into a command, it is good practice to put together a command that matches the environment variables you wish to set. Once the database server conforms to your expected behaviour, you can then pull out the values passed into each flag for your environment variables.

For example, take the following command to start the database.

```bash
surreal start --user root --pass secret --allow-net --deny-funcs "crypto::md5, http::post, http::delete"
```

If we now wanted to use environment variables instead of the `--allow-net` and `--deny-funcs` flags, we would use the `SURREAL_CAPS_ALLOW_NET` and `SURREAL_CAPS_DENY_FUNC` environment variables.

As the `--allow-net` flag was passed in without a following value, the same will be the case with the `SURREAL_CAPS_ALLOW_NET` environment variable, becoming `SURREAL_CAPS_ALLOW_NET=`. The `--deny-funcs` flag can also be used on its own to deny execution of all functions, but in this case is followed by a string to indicate which exact functions are not allowed to be executed. As such, the `SURREAL_CAPS_DENY_FUNC` environment variable must also be followed by a string, becoming `SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"`.

The command would then look like the following:

<Tabs groupId="start-command">
  <TabItem value="bash" label="Bash">
    ```bash
    SURREAL_CAPS_ALLOW_NET
    SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"
    surreal start --user root --pass secret
    ```
  </TabItem>

  <TabItem value="powershell" label="PowerShell">
    ```powershell
    $env:SURREAL_CAPS_ALLOW_NET
    $env:SURREAL_CAPS_DENY_FUNC="crypto::md5, http::post, http::delete"
    surreal start --user root --pass secret
    ```
  </TabItem>
</Tabs>

## Surreal Cloud environment variables

Instances on Surreal Cloud are not started with a CLI command or environment variables. Instead, they can be set on the [Configure Instance](/docs/cloud/advanced-topics/configure-an-instance) panel.
