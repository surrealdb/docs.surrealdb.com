---
sidebar_position: 18
sidebar_label: upsert
title: v2 Protcol| RPC Protocol | Integration
---

import Label from "@components/shared/Label.astro";

# `upsert`

```json title="Method Syntax"
upsert [ 
    thing, 
    data?, 
    {
        data_expr?: "content" | "merge" | "replace" | "patch",
        only?: boolean,
        cond?: string,
        output?: "none" | "null"| "diff" | "before" | "after",
        timeout?: duration, 
        vars?: object
    } 
]
```

### Parameters
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Parameter</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Parameter">
                <code>thing</code>
                <Label label="required" />
            </td>
            <td colspan="2" scope="row" data-label="Description">
                
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Parameter">
                <code>data</code>
                <Label label="optional" />
            </td>
            <td colspan="2" scope="row" data-label="Description">
                
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Parameter">
                <code>data_expr</code>
                <Label label="optional" />
            </td>
            <td>
                <ul>
                    <li><code>content</code>: corresponds to [`CONTENT`](/docs/surrealql/statements/upsert#content-clause) of the `UPSERT` statement</li>
                    <li><code>merge</code>: corresponds to [`MERGE`](/docs/surrealql/statements/upsert#merge-clause) of the `UPSERT` statement</li>
                    <li><code>replace</code>: corresponds to [`REPLACE`](/docs/surrealql/statements/upsert#replace-clause) of the `UPSERT` statement</li>
                    <li><code>patch</code>: corresponds to [`PATCH`](/docs/surrealql/statements/upsert#patch-clause) of the `UPSERT` statement</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Parameter">
                <code>only</code>
                <Label label="optional" />
            </td>
            <td colspan="2" scope="row" data-label="Description">
                corresponds to [`ONLY`](/docs/surrealql/statements/upsert#using-the-only-clause) of the `UPSERT` statement
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Parameter">
                <code>cond</code>
                <Label label="optional" />
            </td>
            <td colspan="2" scope="row" data-label="Description">
                corresponds to [`WHERE`](/docs/surrealql/statements/upsert#using-the-where-clause) of the `UPSERT` statement
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Parameter">
                <code>output</code>
                <Label label="optional" />
            </td>
            <td colspan="2" scope="row" data-label="Description">
                corresponds to [`RETURN`](/docs/surrealql/statements/upsert#alter-the-return-value) of the `UPSERT` statement
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Parameter">
                <code>timeout</code>
                <Label label="optional" />
            </td>
            <td colspan="2" scope="row" data-label="Description">
                A duration, stating how long the statement is run within the database before timing out.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Parameter">
                <code>vars</code>
                <Label label="optional" />
            </td>
            <td colspan="2" scope="row" data-label="Description">
                [`Session Variables`](/docs/surrealdb/integration/rpc/v2#session-variables)
            </td>
        </tr>
    </tbody>
</table>

### Example usage
This section is under development. The functionality is closely aligned with the `UPSERT` statement. For more details, refer to the [`UPSERT` statement documentation](/docs/surrealql/statements/upsert).

<br />