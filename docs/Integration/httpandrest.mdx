---
sidebar_position: 3
---
import TableComponent from '../../src/components/TableData/TableComponent';
import { data } from '../../src/components/TableData/Integration/TableData';

# Http & Rest

## HTTP & Rest

The HTTP endpoints enable simple selection and modifications of all records or a single record in a table, in addition to support for custom SurrealQL queries with multiple statements, using traditional RESTful HTTP url endpoints.

<TableComponent data={data} />

<div className='layout-group'>

<div id="export" className='code'>
    <span className='class-name'>GET</span>
    <span className='punctuation'>/export</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint exports all data for a specific Namespace and Database.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the root, namespace, or database authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
</div>

<br/>

<div className='layout-group'>

<div id="health" className='code'>
    <span className='class-name'>GET</span>
    <span className='punctuation'>/health</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint checks whether the database server and storage engine are running.

The endpoint returns a `200` status code on success and a `500` status code on failure.
</div>

<br/>

<div className='layout-group'>

<div id="import" className='code'>
    <span className='class-name'>GET</span>
    <span className='punctuation'>/import</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint imports a set of SurrealQL queries into a specific Namespace and Database.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the root, namespace, or database authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
</div>

<br/>

<div className='layout-group'>

<div id="get-table" className='code'>
    <span className='class-name'>GET</span>
    <span className='punctuation'>/key/:table</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint selects all records in a specific table in the database.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```sql
SELECT * FROM type::table($table);
```
</div>

<br/>

<div className='layout-group'>

<div id="post-table" className='code'>
    <span className='class-name'>POST</span>
    <span className='punctuation'>/key/:table</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint creates a record in a specific table in the database.

:::note
This HTTP endpoint expects the HTTP body to be a JSON or SurrealQL `object`.
:::

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```sql
CREATE type::table($table) CONTENT $body;
```
</div>

<br/>

<div className='layout-group'>

<div id="delete-table" className='code'>
    <span className='class-name'>DELETE</span>
    <span className='punctuation'>/key/:table</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint deletes all records from the specified table in the database.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```sql
DELETE FROM type::table($table);
```
</div>

<br/>

<div className='layout-group'>

<div id="get-table-id" className='code'>
    <span className='class-name'>GET</span>
    <span className='punctuation'>/key/:table/:id</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint selects a specific record from the database.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```sql
SELECT * FROM type::thing($table, $id);
```
</div>

<br/>

<div className='layout-group'>

<div id="post-table-id" className='code'>
    <span className='class-name'>POST</span>
    <span className='punctuation'>/key/:table/:id</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint selects a specific record from the database.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```sql
CREATE type::thing($table, $id) CONTENT $body;
```
</div>

<br/>

<div className='layout-group'>

<div id="put-table-id" className='code'>
    <span className='class-name'>PUT</span>
    <span className='punctuation'>/key/:table/:id</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint selects a specific record from the database.

:::note
This HTTP endpoint expects the HTTP body to be a JSON or SurrealQL object.
:::

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```sql
UPDATE type::thing($table, $id) CONTENT $body;
```
</div>

<br/>

<div className='layout-group'>

<div id="patch-table-id" className='code'>
    <span className='class-name'>PATCH</span>
    <span className='punctuation'>/key/:table/:id</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint selects a specific record from the database.

:::note
This HTTP endpoint expects the HTTP body to be a JSON or SurrealQL object.
:::

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```sql
UPDATE type::thing($table, $id) MERGE $body;
```
</div>

<br/>

<div className='layout-group'>

<div id="delete-table-id" className='code'>
    <span className='class-name'>DELETE</span>
    <span className='punctuation'>/key/:table/:id</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint deletes a single specific record from the database.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```sql
DELETE FROM type::thing($table, $id);
```
</div>

<br/>

<div className='layout-group'>

<div id="signup" className='code'>
    <span className='class-name'>POST</span>
    <span className='punctuation'>/signup</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint is used to create an account inside the SurrealDB database server.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
    </tbody>
</table>
<p> The following shows an example request. </p>

```bash
curl -X POST \
	 -H "Accept: application/json" \
	 -d '{"ns":"test","db":"test","sc":"user_scope","username":"john.doe","password":"123456"}' \
	 http://localhost:8000/signup
```
output: 
```bash
{
	"code": 200,
	"details": "Authentication succeeded",
	"token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
}
```
</div>

<br/>

<div className='layout-group'>

<div id="signin" className='code'>
    <span className='class-name'>POST</span>
    <span className='punctuation'>/signin</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint is used to create an account inside the SurrealDB database server.

The following headers can be used to customise the query and the response.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
    </tbody>
</table>
<p> The following shows example request on the different permission layers for signin. </p>

```bash
curl -X POST \
	 -H "Accept: application/json" \
	 -d '{"ns":"test","db":"test","sc":"user_scope","user":"john.doe","pass":"123456"}' \
	 http://localhost:8000/signin
```
output: 
```bash
{
	"code": 200,
	"details": "Authentication succeeded",
	"token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
}
```
<h3>Namespace:</h3>

```bash
curl -X POST \
	 -H "Accept: application/json" \
	 -d '{"ns":"test","user":"john.doe","pass":"123456"}' \
	 http://localhost:8000/signin
```

output:

```bash
{
	"code": 200,
	"details": "Authentication succeeded",
	"token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
}
```

<h3> Root: </h3>

```bash
curl -X POST \
	 -H "Accept: application/json" \
	 -d '{"user":"john.doe","pass":"123456"}' \
	 http://localhost:8000/signin
```

output:

```bash
{
	"code": 200,
	"details": "Authentication succeeded",
	"token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
}
```
</div>
<br/>

<div className='layout-group'>

<div id="sql" className='code'>
    <span className='class-name'>POST</span>
    <span className='punctuation'>/sql</span>
    <span className='function'>endpoint</span>
</div>

The SQL endpoint enables advanced SurrealQL queries.

:::note
This HTTP endpoint expects the HTTP body to be a set of SurrealQL statements.
:::

The following shows an example request.

<table>
    <thead>
        <tr>
            <th colspan="2">Header</th>
            <th>Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2">
                <code>Authorization</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
            Sets the root, namespace, database, or scope authentication data
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>Accept</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td>
                Sets the desired content-type of the response
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>NS</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Namespace for queries
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <code>DB</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td>
                Sets the selected Database for queries
            </td>
        </tr>
    </tbody>
</table>
<p> Once this endpoint is called the following query will be run on the database: </p>

```bash
curl -X POST \
	 -u "root:root" \
	 -H "NS: myapplication" \
	 -H "DB: myapplication" \
	 -H "Accept: application/json" \
	 -d "SELECT * FROM person WHERE age > 18" \
	 http://localhost:8000/sql
```

output:

```bash
[
	{
		"time": "14.357166ms",
		"status": "OK",
		"result": [
			{
				"age": "23",
				"id": "person:6r7wif0uufrp22h0jr0o"
				"name": "Simon",
			},
			{
				"age": "28",
				"id": "person:6r7wif0uufrp22h0jr0o"
				"name": "Marcus",
			},
		]
	}
]
```
</div>

<br/>

<div className='layout-group'>

<div id="status" className='code'>
    <span className='class-name'>POST</span>
    <span className='punctuation'>/status</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint checks whether the database web server is running, returning a 200 status code.
</div>

<br/>

<div className='layout-group'>

<div id="import" className='code'>
    <span className='class-name'>POST</span>
    <span className='punctuation'>/version</span>
    <span className='function'>endpoint</span>
</div>

This HTTP RESTful endpoint returns the version of the SurrealDB database server.
</div>

<br/>